(this["webpackJsonpecommerce-frontend"]=this["webpackJsonpecommerce-frontend"]||[]).push([[0],{102:function(e,t,a){e.exports=a(133)},107:function(e,t,a){},119:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(26),c=a.n(r),s=(a(107),a(78),a(168)),o=a(29);const m=s.a.create({baseURL:"http://localhost:3000"});let i=!1,d=[];const u=e=>{if(!e)return null;try{return 1e3*Object(o.a)(e).exp}catch(t){return console.error("Error decoding token:",t),null}},p=async()=>{try{console.log("Refreshing token...");const t=localStorage.getItem("refresh_token"),a=await m.post("/api/v1/auth/refresh-token",null,{headers:{Authorization:"Bearer ".concat(t)}});console.log(a.data);const{accessToken:l,refreshToken:n}=a.data;return localStorage.setItem("access_token",l),localStorage.setItem("refresh_token",n),localStorage.setItem("expiry_time",u(l)),console.log("Token refreshed successfully."),i=!1,e=l,d.map(t=>t(e)),d=[],l}catch(t){return console.error("Token refresh error:",t),i=!1,null}var e};m.interceptors.request.use(async e=>{try{if(e.url.includes("/refresh-token"))return e;let t=localStorage.getItem("access_token");const a=u(t);return a&&Date.now()>=a-6e4&&(i?t=await new Promise(e=>{var t;t=t=>{e(t)},d.push(t)}):(i=!0,t=await p())),console.log("here"),t&&(e.headers.Authorization="Bearer ".concat(t)),e}catch(t){return console.error("Interceptor error:",t),Promise.reject(t)}},e=>Promise.reject(e));var E=m,g=a(17);var b=a(7),h=a.n(b);var v=a(11),f=a(13);a(80);var N=function(){const[e,t]=Object(l.useState)("");return n.a.createElement("ul",{className:"navbar-nav align-items-center"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("products"===e?"active":""),to:"/cart"},"Products ")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link nav-link-hover ".concat("contact"===e?"active":""),href:"https://pinevox.com/contact/",target:"_blank",rel:"noopener noreferrer"},"Contact")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("login"===e?"active":""),to:"/clogin"},n.a.createElement("i",{className:"fa fa-sign-in"})," Login")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("register"===e?"active":""),to:"/register"},n.a.createElement("i",{className:"fa fa-user-plus"})," Register")))};var y=e=>{let{isLoggedIn:t}=e;const[a,r]=Object(l.useState)(""),c=e=>{r(e)},s=e=>{i({type:"LogOut"}),sessionStorage.clear(),m.push("/")},o=Object(v.c)(e=>e),m=Object(g.useHistory)(),i=Object(v.b)();return console.log(sessionStorage.getItem("role"),t),console.log(o.loggedin.username),t?t?n.a.createElement("ul",{className:"navbar-nav align-items-center"},n.a.createElement("li",{className:"nav-item"},n.a.createElement("span",{className:"nav-link text-primary"}," Welcome, ",o.loggedin.Username)),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("cart"===a?"active":""),to:"/cart",onClick:()=>c("cart")},"View Cart ",0===o.cart.length?"":n.a.createElement("span",{className:"badge badge-primary p-2"},o.cart.map(e=>e.qty).reduce((e,t)=>parseInt(e)+parseInt(t))))),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("profile"===a?"active":""),to:"/cprofile",onClick:()=>c("profile")},"Profile")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("product"===a?"active":""),to:"/product",onClick:()=>c("orders")},"Products")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.b,{className:"nav-link nav-link-hover",onClick:s,to:"#"},"Logout"))):void 0:n.a.createElement(N,null)};a(118),a(119);var x=function(e){const{x:t,showModal:a}=e,[r,c]=Object(l.useState)(!1),s=0===t.free_stock?t.free_stock<=5&&t.free_stock>0||"EOL"===t.availability?"limited":"out-of-stock":"";return n.a.createElement("div",{className:"col-md-3",key:t.item},n.a.createElement("div",{className:"product-card"},n.a.createElement("div",{className:"product-img"},n.a.createElement("img",{style:{border:"none"},src:t.image_url?t.image_url:"https://upload.wikimedia.org/wikipedia/commons/d/d1/Image_not_available.png",className:"img-thumbnail",loading:"lazy",alt:t.item})),n.a.createElement("div",{className:"product-info text-center"},n.a.createElement("h3",{className:"product-name"},t.item),n.a.createElement("h6",{className:"product-category"},"Brand: ",t.class),n.a.createElement("h6",{className:"product-category"},"Stock: ",t.free_stock),n.a.createElement("div",{className:"description-prod"},n.a.createElement("p",null,r?t.description:"".concat(t.description.substring(0,20)),n.a.createElement("a",{onClick:()=>{c(!r)},color:"#6574F6"},r?"...less":"...more"))),"out-of-stock"===s?n.a.createElement("p",{className:"out-of-stock-text"},"Out of stock"):n.a.createElement("div",{className:"row d-flex justify-content-around"},n.a.createElement("div",{className:"product-price"},"\xa3 ",t.retail_price),n.a.createElement("button",{type:"button",className:"btn btn-cart mt-2",onClick:()=>a(t)},n.a.createElement("span",null,"\ud83d\uded2")," Add to Cart")))))};a(120),a(121),a(122);var k=function(){return n.a.createElement("div",{className:"header-container"},n.a.createElement("div",{className:"header d-flex flex-column flex-md-row align-items-center"},n.a.createElement("div",{className:"header-content text-center text-md-start"},n.a.createElement("h2",null,"Revolutionize Your IT Infrastructure"),n.a.createElement("p",null,"Equip your business with the latest in IT hardware. Our comprehensive range includes high-performance servers, cutting-edge hardware, and robust networking solutions. Easy setup and unparalleled support ensure your tech is always up and running."),n.a.createElement("p",{className:"info-text"},"No setup fee required \u2022 30-day money-back guarantee"))))},_=(a(123),a(85));var w=()=>n.a.createElement(_.a,{src:"https://lottie.host/654a6092-acc4-4ee6-bb26-399a588cba05/bEUJiDR8Wy.json",background:"transparent",speed:1,style:{width:300,height:300},loop:!0,autoplay:!0,controls:!0});var S=function(e){const[t,a]=Object(l.useState)([]),{pcat:r,subcat:c}=Object(g.useParams)(),{pname:s}=Object(g.useParams)(),o=Object(v.c)(e=>e),[m,i]=Object(l.useState)({}),[d,u]=Object(l.useState)(1),p=Object(v.b)(),b=Object(g.useHistory)(),[f,N]=Object(l.useState)(!0),[y,_]=Object(l.useState)("modal fade"),[S,O]=Object(l.useState)("none"),j=e=>{console.log("Child call parent"),_("modal fade show"),O("block"),i(e)},C=()=>{_("modal fade"),O("none")};Object(l.useEffect)(()=>{0===t.length&&E.get("/api/v1/products").then(e=>{N(!1),console.log(e.data),a(e.data||[])}).catch(e=>{N(!1),console.log("failed to load products. Error: "+e)})},[]);const P=e=>{if(null==o.loggedin.Username)h()({title:"Warning",text:"Please login first to buy product",icon:"warning",button:"ok"}),b.push("/clogin");else if("USER"!==o.loggedin.Role)h()({title:"Warning",text:"Please log-in to buy this product",icon:"warning",button:"ok"});else if(t=e.item,o.cart.findIndex(e=>e.item===t)<0){j(),O("none"),_("modal fade"),e.qty=d,p({type:"AddItem",payload:e});const t=[...o.cart,e];localStorage.setItem("cart",JSON.stringify(t)),h()({title:"Success",text:"Item added to cart successfully",icon:"success",button:"ok"})}else h()({title:"Warning",text:"Item already in cart",icon:"warning",button:"ok"});var t};return n.a.createElement("div",null,n.a.createElement(k,null),n.a.createElement("div",{className:"container-fluid",style:{width:"92%"}},n.a.createElement("div",{className:""},n.a.createElement("div",{className:"card-body"},f?n.a.createElement(w,null):n.a.createElement("div",{className:"row"},t&&t.filter(e=>e.image_url).map(e=>n.a.createElement(x,{key:e.item,x:e,showModal:j}))))),"block"===S&&n.a.createElement("div",null,n.a.createElement("div",{className:"modal-backdrop ".concat(y?"show":""),style:{zIndex:"999",display:S},onClick:C}),n.a.createElement("div",{className:"modal-container ".concat(y?"show":""),style:{zIndex:"1000",display:S}},n.a.createElement("div",{className:"modal-dialog"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("button",{onClick:C,className:"close"},"\xd7")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"payment-summary"},n.a.createElement("h4",null,"Product Summary"),n.a.createElement("h5",null,m.item),n.a.createElement("div",{className:"column-div"},n.a.createElement("div",{className:"product-info"},n.a.createElement("div",{className:"cart-info-name"},n.a.createElement("img",{src:m.image_url?m.image_url:"https://upload.wikimedia.org/wikipedia/commons/d/d1/Image_not_available.png",alt:"product_image",height:"200px"}))),n.a.createElement("div",{className:"product-details"},n.a.createElement("div",{className:"cart-info"},n.a.createElement("p",null,"Brand: "),n.a.createElement("p",null,m.class)),n.a.createElement("div",{className:"cart-info"},n.a.createElement("p",null,"Description: "),n.a.createElement("p",null,m.description_short)),n.a.createElement("div",{className:"cart-info"},n.a.createElement("p",null,"Stock: "),n.a.createElement("p",null,m.free_stock)),n.a.createElement("div",{className:"cart-info"},n.a.createElement("p",null,"Quantity: "),n.a.createElement("input",{className:"custom-input",type:"number",min:"1",max:m.free_stock,value:d,onChange:e=>u(e.target.value)})),n.a.createElement("div",{className:"cart-info total"},n.a.createElement("p",null,"Price:"),n.a.createElement("p",null,"\xa3 ",(m.retail_price*d).toFixed(2)))))),n.a.createElement("button",{className:"btn btn-danger mt-2",onClick:e=>P(m)},"Add to cart"))))))))},O=a(86),j=a.n(O),C=(a(124),a(125),a(32)),P=a(72);var I=function(){return n.a.createElement("div",{className:"top_nav"},n.a.createElement("div",{className:"row1"},n.a.createElement("div",{className:"helper-container"},n.a.createElement("div",{className:"top_nav_left"},n.a.createElement("a",{style:{color:"#b5aec4"},href:"https://pinevox.com/contact/",target:"_blank"},n.a.createElement(C.a,{icon:P.a}),n.a.createElement("span",null,"\xa0"),"Help")),n.a.createElement("span",null," | "),n.a.createElement("a",{className:"top_nav_left",href:"tel:+443301796233"},n.a.createElement(C.a,{icon:P.b,style:{color:"#b5aec4"}}),n.a.createElement("span",null,"\xa0\xa0"),"+44-330-179-6233"))))};const{Fragment:A}=a(0);var T=function(){const e=Object(v.c)(e=>e);return console.log("LoggedIn ",e.loggedin),console.log("Cart ",e.cart),n.a.createElement(A,null,n.a.createElement(I,null),n.a.createElement("nav",{className:"navbar navbar-expand-md shadow-sm position-sticky mx-md-auto custom-style"},n.a.createElement("a",{className:"navbar-brand px-3",href:"https://pinevox.com/"},n.a.createElement("img",{src:j.a,alt:"Company_logo",width:"50%",height:"50%"})),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"fa fa-bars"})),n.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent"},n.a.createElement(y,{isLoggedIn:e.loggedin.IsLoggedIn}))))};a(81);var L=e=>{let{currentStep:t}=e;const a=["Register","Services","Address","Confirmation"];return n.a.createElement("div",{className:"container m-2 pb-3"},n.a.createElement("div",{className:"progress",style:{height:"2px"}},n.a.createElement("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:"".concat((t-1)/(a.length-1)*100,"%")},"aria-valuenow":t/(a.length-1)*100,"aria-valuemin":"0","aria-valuemax":"100"})),n.a.createElement("div",{className:"d-flex justify-content-between mt-2"},a.map((e,a)=>n.a.createElement("div",{key:a,className:"text-center"},n.a.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center mb-1 ".concat(a<t?"bg-primary":"bg-secondary"),style:{width:"30px",height:"30px",margin:"0 auto",color:"white",fontWeight:"bold"}},a+1),n.a.createElement("div",{className:"small"},e)))))},F=a(94);var B=()=>{const[e,t]=Object(l.useState)(1),a=Object(v.b)(),r=Object(g.useHistory)(),[c,m]=Object(l.useState)({firstName:"",lastName:"",userEmail:"",password:"",cpwd:"",phone:"",altPhone:"",businessName:""}),[i,d]=Object(l.useState)({}),[u,p]=Object(l.useState)(!1),[E,b]=Object(l.useState)(!1),f=(e,t)=>{const a={...i},l=/^[a-zA-Z\s]+$/,n=/^\d{10}$/,r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,s=/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;switch(e){case"firstName":t&&l.test(t)?delete a.firstName:a.firstName="First name is required and should only contain letters";break;case"lastName":t&&l.test(t)?delete a.lastName:a.lastName="Last name is required and should only contain letters";break;case"phone":t&&n.test(t)?delete a.phone:a.phone="Phone number is required and should be in UK format";break;case"altPhone":t&&n.test(t)?delete a.altPhone:a.altPhone="Landline number is required and should be in UK format";break;case"userEmail":t&&r.test(t)?delete a.userEmail:a.userEmail="Valid email is required";break;case"businessName":t?delete a.businessName:a.businessName="Business Name is required";break;case"password":t&&s.test(t)?delete a.password:a.password="Password is required and should be at least 8 characters long, contain one capital letter, one special character, and one number",c.cpwd&&t!==c.cpwd?a.cpwd="Passwords do not match":delete a.cpwd;break;case"cpwd":t!==c.password?a.cpwd="Passwords do not match":delete a.cpwd}d(a)},N=e=>{const{name:t,value:a}=e.target;m(e=>({...e,[t]:a})),f(t,a)};return Object(l.useEffect)(()=>{u&&s.a.post("".concat("http://localhost:3000","/api/v1/auth/register"),c).then(e=>{h()({title:"Success",text:"Thanks for registering!",icon:"success",button:"ok"});(async e=>{try{const t=await s.a.post("".concat("http://localhost:3000","/api/v1/auth/login"),e),{accessToken:l,refreshToken:n}=t.data,c=1e3*Object(o.a)(l).exp;localStorage.setItem("access_token",l),localStorage.setItem("refresh_token",n),localStorage.setItem("expiry_time",c),a({type:"IsLoggedIn"}),r.push("/configuration")}catch(t){h()({title:"Error",text:"Customer not registered",icon:"error",button:"ok"})}})({userEmail:c.userEmail,password:c.password}),(()=>{const e={firstName:c.firstName,lastName:c.lastName,userEmail:c.userEmail};F.a.send(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"http://localhost:3000",REACT_APP_GOOGLE_KEY:"258500647366-jesetr6ivqqh8kje2nfgm05mdtjrbd91.apps.googleusercontent.com"}).EMAILJS_USER_ID,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"http://localhost:3000",REACT_APP_GOOGLE_KEY:"258500647366-jesetr6ivqqh8kje2nfgm05mdtjrbd91.apps.googleusercontent.com"}).EMAILJS_TEMPLATE_ID,e,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"http://localhost:3000",REACT_APP_GOOGLE_KEY:"258500647366-jesetr6ivqqh8kje2nfgm05mdtjrbd91.apps.googleusercontent.com"}).EMAILJS_PUBLIC_KEY).then(e=>{console.log("Email sent successfully!",e.status,e.text)},e=>{console.log("Failed to send email:",e),h()({title:"Error",text:"Failed to send confirmation email",icon:"error",button:"ok"})})})()}).catch(e=>{e.response&&e.response.data&&e.response.data.message.includes("Duplicate entry")?h()({title:"Error",text:"User with this email already exists",icon:"error",button:"ok"}):h()({title:"Error",text:"Customer not registered",icon:"error",button:"ok"})})},[u]),n.a.createElement("div",{className:"container container-form mt-5 d-flex flex-column"},n.a.createElement(L,{currentStep:e}),n.a.createElement("div",{className:"signup-card"},n.a.createElement("div",{className:"signup-header"},n.a.createElement("h1",{className:"signup-title"},"Drive success with seamless communication"),n.a.createElement("p",{className:"signup-subtitle"},"Please fill the details below to get started")),n.a.createElement("form",{onSubmit:a=>{a.preventDefault(),Object.entries(c).forEach(e=>{let[t,a]=e;return f(t,a)}),0===Object.keys(i).length&&p(!0),e<4&&t(e+1)},className:"signup-form px-5"},n.a.createElement("div",{className:"d-flex flex-row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"First Name"),n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",value:c.firstName,onChange:N,placeholder:"First Name",required:!0}),i.firstName&&n.a.createElement("div",{className:"text-danger small mt-1 px-3"},i.firstName)),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"Last Name"),n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{type:"text",className:"form-control",id:"lastName",name:"lastName",value:c.lastName,onChange:N,placeholder:"Last Name",required:!0}),i.lastName&&n.a.createElement("div",{className:"text-danger small mt-1 px-3"},i.lastName))),n.a.createElement("div",{className:"d-flex flex-row"},n.a.createElement("div",{className:"col-md-6 mb-3"},n.a.createElement("div",{className:""},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"Mobile Number"),n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("div",{className:"input-group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text",style:{paddingTop:"0rem",paddingBottom:"0rem"},id:"basic-addon1"},"+44")),n.a.createElement("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:c.phone,onChange:N,placeholder:"Mobile Number","aria-label":"Mobile Number","aria-describedby":"basic-addon1",required:!0}))),i.phone&&n.a.createElement("div",{className:"text-danger small mt-1 px-3"},i.phone)),n.a.createElement("div",{className:"col-md-6 mb-3"},n.a.createElement("div",{className:""},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"Landline Number"),n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("div",{className:"input-group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text",style:{paddingTop:"0rem",paddingBottom:"0rem"},id:"basic-addon1"},"+44")),n.a.createElement("input",{type:"tel",className:"form-control",id:"altPhone",name:"altPhone",value:c.altPhone,onChange:N,placeholder:"Landline Number","aria-label":"Landline Number","aria-describedby":"basic-addon1",required:!0}))),i.altPhone&&n.a.createElement("div",{className:"text-danger small mt-1 px-3"},i.altPhone))),n.a.createElement("div",{className:"form-group px-3"},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"Email Address "),n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{type:"email",id:"userEmail",name:"userEmail",value:c.userEmail,onChange:N,placeholder:"Email Address",required:!0}),i.userEmail&&n.a.createElement("span",{className:"error-message px-3"},i.userEmail)),n.a.createElement("div",{className:"form-group px-3"},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"Business Name"),n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{type:"text",id:"businessName",name:"businessName",value:c.businessName,onChange:N,placeholder:"Business Name",required:!0}),i.businessName&&n.a.createElement("span",{className:"error-message px-3"},i.businessName)),n.a.createElement("div",{className:"form-group px-3"},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"Password"),n.a.createElement("span",{className:"text-danger"},"*"),n.a.createElement("span",{className:"info-button ml-2","data-toggle":"tooltip","data-placement":"top",title:"Password should be at least 8 characters long, contain one capital letter, one special character, and one number"},n.a.createElement("i",{className:"fa fa-info-circle"}))),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:E?"text":"password",id:"password",name:"password",value:c.password,onChange:N,placeholder:"Password",className:"form-control",style:{borderLeft:"ridge",borderLeftWidth:"thin",padding:"1.5rem",borderRadius:"6px 6px 0"},required:!0}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",style:{marginTop:"0px"},onClick:()=>{b(!E)}},n.a.createElement("i",{className:E?"fa fa-eye-slash":"fa fa-eye"})))),i.password&&n.a.createElement("span",{className:"error-message px-3"},i.password)),n.a.createElement("div",{className:"form-group px-3"},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"Confirm Password"),n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{type:"password",id:"cpwd",name:"cpwd",value:c.cpwd,onChange:N,placeholder:"Confirm Password",required:!0}),i.cpwd&&n.a.createElement("span",{className:"error-message px-3"},i.cpwd)),n.a.createElement("div",{className:"d-flex flex-col justify-content-center"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg px-5 rounded-pill shadow-sm w-50",disabled:Object.keys(i).length>0},"Create Account")),n.a.createElement("p",{className:"terms-text"},"By signing up, you agree to Pinevox's ",n.a.createElement("a",{href:"https://pinevox.com/terms-of-service/"},"Terms of Service")," & ",n.a.createElement("a",{href:"https://pinevox.com/privacy-policy/"},"Privacy Policy")))))};var D=e=>{let t={};return e.userEmail||(t.userEmail="User id is required"),e.password||(t.password="Password is required"),t};a(171),a(169);var R=a(10),q=a(178),U=a(180),z=a(167),H=a(74),M=a(177),W=a(179),K=a(176),Y=a(175);var G=a(63),J=(a(127),a(89)),V=a.n(J);var $=function(){const e=Object(v.b)(),[t,a]=Object(l.useState)({userEmail:"",password:""}),[r,c]=Object(l.useState)({}),[m,i]=Object(l.useState)(!1),d=Object(g.useHistory)(),[u,p]=Object(l.useState)(!1),E=e=>{console.log("Input"),a({...t,[e.target.name]:e.target.value})};return Object(l.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("packageName")||"basic";localStorage.setItem("packageName",e)},[]),Object(l.useEffect)(()=>{0===Object.keys(r).length&&m&&s.a.post("".concat("http://localhost:3000","/api/v1/auth/login"),t).then(t=>{const{accessToken:a,refreshToken:l,user:n}=t.data,r=1e3*Object(o.a)(a).exp;console.log(n),localStorage.setItem("access_token",a),localStorage.setItem("refresh_token",l),localStorage.setItem("expiry_time",r),e({type:"IsLoggedIn"});switch(n.status){case"remService":d.push("/configuration");break;case"remAddress":d.push("/address");break;case"remMandate":d.push("/billing");break;case"active":d.push("/cprofile");break;default:d.push("/register")}}).catch(e=>{console.log("Error",e),h()({title:"Error",text:"Invalid username or password",icon:"error",button:"ok"})})},[r,m,e,d]),n.a.createElement("div",{className:"container login-container"},n.a.createElement("div",{className:"row align-items-center"},n.a.createElement("div",{className:"col-md-6 d-none d-md-block"},n.a.createElement("img",{src:V.a,alt:"login",className:"img-fluid"})),n.a.createElement("div",{className:"col-md-6 login-form"},n.a.createElement("h2",{className:"text-center"},"Login to continue"),n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),c(D(t)),i(!0)}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("span",{className:"text-danger"},"*"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"userEmail",placeholder:"Enter email",style:{borderLeft:"ridge",borderLeftWidth:"thin"},value:t.userEmail,onChange:E,required:!0}),r.userEmail&&n.a.createElement("small",{className:"text-danger float-right"},r.userEmail)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},n.a.createElement("span",null,"Password"),n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("div",{className:"input-group",style:{borderLeft:"ridge",borderLeftWidth:"thin"}},n.a.createElement("input",{type:u?"text":"password",id:"password",name:"password",value:t.password,onChange:E,placeholder:"Password",required:!0,className:"form-control"}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",style:{marginTop:"0px"},onClick:()=>{p(!u)}},n.a.createElement("i",{className:u?"fa fa-eye-slash":"fa fa-eye"})))),r.password&&n.a.createElement("span",{className:"error-message px-3"},r.password)),n.a.createElement("div",{className:"links"},n.a.createElement("a",{href:"/forgotPassword",className:"btn btn-link p-0"},"Forgot Password?")),n.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"LOGIN")),n.a.createElement("p",{className:"text-center mt-3"},"or sign up using"),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement(G.a,{onSuccess:t=>{const{credential:a}=t;s.a.post("".concat("http://localhost:3000","/api/v1/auth/google-authenticate"),{token:a}).then(t=>{const{access_token:a,refresh_token:l}=t.data,n=1e3*Object(o.a)(a).exp;localStorage.setItem("access_token",a),localStorage.setItem("refresh_token",l),localStorage.setItem("expiry_time",n),e({type:"IsLoggedIn"}),d.push("/cprofile")}).catch(e=>{console.log("Error",e),h()({title:"Error",text:"Google login failed",icon:"error",button:"ok"})})},onError:()=>{console.log("Google login failed"),h()({title:"Error",text:"Google login failed",icon:"error",button:"ok"})}})),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("a",{href:"/register",className:"btn btn-link p-0"},"Don't have an account? Sign up")))))};var Q=function(){const e=sessionStorage.getItem("id"),[t,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{E.get("/api/products?sellerid="+e).then(e=>{console.log(e.data),a(e.data.data),console.log(t)})},[]);const r=Object(R.a)(z.a)(e=>{let{theme:t}=e;return{["&.".concat(H.a.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(H.a.body)]:{fontSize:14}}}),c=Object(R.a)(K.a)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"card shadow bg-transparent text-white"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",null,"My Products"),n.a.createElement(M.a,{component:Y.a},n.a.createElement(q.a,{sx:{minWidth:700},"aria-label":"customized table"},n.a.createElement(W.a,null,n.a.createElement(K.a,null,n.a.createElement(r,{align:"center"},"Name"),n.a.createElement(r,{align:"center"},"Category"),n.a.createElement(r,{align:"center"},"Sub Category"),n.a.createElement(r,{align:"center"},"Brand Name"),n.a.createElement(r,{align:"center"},"Price"),n.a.createElement(r,{align:"center"},"Action"))),n.a.createElement(U.a,null,t.map(l=>n.a.createElement(c,{key:l.prodid},n.a.createElement(r,{align:"center"},n.a.createElement("img",{width:"100",src:"".concat("http://localhost:3000")+l.photo,className:"img-thumnail mr-3"}),l.pname),n.a.createElement(r,{align:"center"},l.pcat),n.a.createElement(r,{align:"center"},l.subcat),n.a.createElement(r,{align:"center"},l.brand),n.a.createElement(r,{align:"center"},"\u20b9 ",l.price),n.a.createElement(r,{align:"center"},n.a.createElement(f.b,{to:"/edit/"+l.prodid,className:"btn btn-dark btn-sm mr-2"},"Edit"),n.a.createElement("button",{onClick:()=>{return n=l.prodid,void h()({title:"Delete product",text:"Are you sure to delete this product ?",icon:"warning",buttons:!0,dangerMode:!0}).then(l=>{l?E.delete("/api/products/"+n).then(l=>{h()({title:"Success",text:"Product deleted successfully",icon:"success",button:"ok"}),E.get("/api/products?sellerid="+e).then(e=>{console.log(e.data),a(e.data.data),console.log(t)})}):h()("Product is not deleted!")});var n},className:"btn btn-danger btn-sm"},"Delete"))))))))))};a(128);var Z=function(){const e=Object(v.c)(e=>e),[t,a]=Object(l.useState)({name:"",phone:"",altPhone:"",businessName:"",userEmail:"",companyAddress:"",billingAddress:""}),r=localStorage.getItem("access_token"),c={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}};return Object(l.useEffect)(()=>{E.get("/api/v1/user",c).then(e=>{console.log(e),a({name:[e.data.firstName,e.data.lastName].join(" "),phone:e.data.phone,altPhone:e.data.altPhone,businessName:e.data.businessName,userEmail:e.data.userEmail})}).then(E.get("/api/v1/address",c).then(e=>{var t,l,n,r,c,s,o,m,i,d,u,p,E,g;console.log(e),a({companyAddress:[null===(t=e.data.company_address)||void 0===t?void 0:t.line_1,null===(l=e.data.company_address)||void 0===l?void 0:l.line_2,null===(n=e.data.company_address)||void 0===n?void 0:n.city,null===(r=e.data.company_address)||void 0===r?void 0:r.district,null===(c=e.data.company_address)||void 0===c?void 0:c.county,null===(s=e.data.company_address)||void 0===s?void 0:s.country,null===(o=e.data.company_address)||void 0===o?void 0:o.post_code].filter(Boolean).join(", ")||"",billingAddress:[null===(m=e.data.billing_address)||void 0===m?void 0:m.line_1,null===(i=e.data.billing_address)||void 0===i?void 0:i.line_2,null===(d=e.data.billing_address)||void 0===d?void 0:d.city,null===(u=e.data.billing_address)||void 0===u?void 0:u.district,null===(p=e.data.billing_address)||void 0===p?void 0:p.county,null===(E=e.data.billing_address)||void 0===E?void 0:E.country,null===(g=e.data.billing_address)||void 0===g?void 0:g.post_code].filter(Boolean).join(", ")||""})})).catch(e=>{console.log("Error",e)})},[e.loggedin.UserEmail]),n.a.createElement("div",{className:"d-flex flex-column row card shadow p-4 vh-100 w-100"},n.a.createElement("div",{id:"Profile",className:"overflow-auto"},n.a.createElement("h2",{className:"mb-4"},"Account Information"),n.a.createElement("hr",null),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{htmlFor:"customerName",className:"form-label"},"Customer Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"customerName",value:t.name,readOnly:!0})),n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{htmlFor:"businessName",className:"form-label"},"Business Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"businessName",value:t.businessName,readOnly:!0})),n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{htmlFor:"email",className:"form-label"},"Email Id"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",value:t.userEmail,readOnly:!0})),n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{htmlFor:"phone",className:"form-label"},"Phone Number"),n.a.createElement("input",{type:"text",className:"form-control",id:"phone",value:t.phone,readOnly:!0})),n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{htmlFor:"altPhone",className:"form-label"},"Alternate Phone Number"),n.a.createElement("input",{type:"text",className:"form-control",id:"altPhone",value:t.altPhone,readOnly:!0})),n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{htmlFor:"companyAddress",className:"form-label"},"Company Address"),n.a.createElement("textarea",{className:"form-control",id:"companyAddress",rows:"3",value:t.companyAddress,readOnly:!0})),n.a.createElement("div",{className:"form-group mb-3"},n.a.createElement("label",{htmlFor:"billingAddress",className:"form-label"},"Billing Address"),n.a.createElement("textarea",{className:"form-control",id:"billingAddress",rows:"3",value:t.billingAddress,readOnly:!0})))))};a(129);var X=function(){const[e,t]=Object(l.useState)([]),[a,r]=Object(l.useState)([]),[c,s]=Object(l.useState)(null),[o,m]=Object(l.useState)(!1),i=localStorage.getItem("access_token"),d={headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}};return Object(l.useEffect)(()=>{E.get("/api/v1/order",d).then(e=>{console.log(e.data),t(e.data.orders)}).catch(e=>{console.error("Error fetching order details:",e)})},[]),n.a.createElement("div",{className:"card shadow p-4 vh-100 w-100"},n.a.createElement("h2",{className:"mb-4"},"Order History"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Order ID"),n.a.createElement("th",null,"Order Date"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Payment Status"),n.a.createElement("th",null,"Receipt"))),n.a.createElement("tbody",null,e.map((e,t)=>n.a.createElement("tr",{key:t+1},n.a.createElement("td",null,t+1),n.a.createElement("td",null,e.createdAt.split("T")[0]),n.a.createElement("td",null,e.totalAmount.toFixed(2)),n.a.createElement("td",null,e.paymentStatus),n.a.createElement("td",null,e.receipt?n.a.createElement("a",{href:e.receipt,target:"_blank",rel:"noopener noreferrer"},"Show Receipt"):"No receipt available yet...")))))))};a(83);var ee=()=>{const[e,t]=Object(l.useState)(!1),a=Object(v.c)(e=>e),[r,c]=Object(l.useState)({}),[s,o]=Object(l.useState)(0),[m,i]=Object(l.useState)({}),d=localStorage.getItem("access_token"),u={headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"}},p=()=>{const e=40*r.pstnCost+33*r.adslCost+5*r.callRecordingCost+35*r.annexRental+5*r.faxToEmailCost;o(e)};return Object(l.useEffect)(()=>{E.get("/api/v1/services",u).then(e=>{console.log(e.data),c(e.data.service),p()}).catch(e=>{h()({title:"Error",text:e.message,icon:"error",button:"ok"})})},[a.loggedin.UserEmail]),Object(l.useEffect)(()=>{p()},[r]),n.a.createElement("div",{className:"card shadow p-4 vh-100 w-100"},n.a.createElement("h2",{className:"mb-4"},"Billing Details"),n.a.createElement("hr",null),n.a.createElement("div",null))};var te=function(){const[e,t]=Object(l.useState)("ProfileSection");return n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-2 col-12 border-end d-flex flex-column justify-content-start align-items-start px-3 py-4"},n.a.createElement("div",{className:"nav flex-column nav-pills w-100"},n.a.createElement("button",{className:"nav-link text-start ".concat("ProfileSection"===e?"active":""),onClick:()=>t("ProfileSection")},n.a.createElement("i",{className:"fw-bold me-2"}),"Account Details",n.a.createElement("small",{className:"d-block text-black d-none d-md-block"},"Manage your account details")),n.a.createElement("button",{className:"nav-link text-start ".concat("MyOrders"===e?"active":""),onClick:()=>t("MyOrders")},n.a.createElement("i",{className:"me-2"}),"Handset Order History",n.a.createElement("small",{className:"d-block text-black d-none d-md-block"},"Track your past purchases")),n.a.createElement("button",{className:"nav-link text-start ".concat("BillingSection"===e?"active":""),onClick:()=>t("BillingSection")},n.a.createElement("i",{className:"me-2"}),"Billing Details",n.a.createElement("small",{className:"d-block text-black d-none d-md-block"},"Manage your bills")))),n.a.createElement("div",{className:"col-md-10 col-12"},(()=>{switch(e){case"ProfileSection":return n.a.createElement(Z,null);case"MyOrders":return n.a.createElement(X,null);case"BillingSection":return n.a.createElement(ee,null);default:return n.a.createElement(Z,null)}})())))},ae=a(90),le=a.n(ae);var ne=function(){const[e,t]=Object(l.useState)([]),[a,r]=Object(l.useState)(!1),[c,s]=Object(l.useState)([]);Object(l.useEffect)(()=>{E.get("/api/orders").then(e=>{console.log(e.data),t(e.data.data)})},[]);const o=Object(R.a)(z.a)(e=>{let{theme:t}=e;return{["&.".concat(H.a.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(H.a.body)]:{fontSize:14}}}),m=Object(R.a)(K.a)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});return n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("h4",{className:"p-2 text-center text-white"},"Orders"),n.a.createElement(M.a,{component:Y.a},n.a.createElement(q.a,{sx:{minWidth:700},"aria-label":"customized table"},n.a.createElement(W.a,null,n.a.createElement(K.a,null,n.a.createElement(o,{align:"center"},"Id"),n.a.createElement(o,{align:"center"},"Order Date"),n.a.createElement(o,{align:"center"},"Amount"),n.a.createElement(o,{align:"center"},"Customer"),n.a.createElement(o,{align:"center"},"Action"))),n.a.createElement(U.a,null,e.map(e=>n.a.createElement(m,{key:e.orderid},n.a.createElement(o,{align:"center"},e.orderid),n.a.createElement(o,{align:"center"},n.a.createElement(le.a,{format:"ddd, DD-MMM-YYYY"},e.orderDate)),n.a.createElement(o,{align:"center"},"\u20b9 ",e.payment.amount),n.a.createElement(o,{align:"center"},e.customer.name),n.a.createElement(o,{align:"center"},n.a.createElement("button",{onClick:t=>{return a=e.orderid,E.get("/api/orders/"+a).then(e=>{console.log(e.data),s(e.data.data.details)}),void r(!0);var a},className:"btn btn-dark btn-sm"},"Show Details")))))))),n.a.createElement("div",{className:"col-sm-6"},a?n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",{className:"p-2 text-center text-white"},"Order Details"),n.a.createElement(M.a,{component:Y.a},n.a.createElement(q.a,{sx:{minWidth:700},"aria-label":"customized table"},n.a.createElement(W.a,null,n.a.createElement(K.a,null,n.a.createElement(o,{align:"center"},"Id"),n.a.createElement(o,{align:"center"},"Photo"),n.a.createElement(o,{align:"center"},"Product"),n.a.createElement(o,{align:"center"},"Price"),n.a.createElement(o,{align:"center"},"Quantity"))),n.a.createElement(U.a,null,c.map(e=>n.a.createElement(m,{key:e.product.prodid},n.a.createElement(o,{align:"center"},e.product.prodid),n.a.createElement(o,{align:"center"},n.a.createElement("img",{src:"".concat("http://localhost:3000","/")+e.product.photo,width:"80"})),n.a.createElement(o,{align:"center"},n.a.createElement("h5",null,e.product.pname),"Category: ",e.product.pcat,n.a.createElement("br",null),"Brand: ",e.product.brand,n.a.createElement("br",null)),n.a.createElement(o,{align:"center"},"\u20b9 ",e.product.price),n.a.createElement(o,{align:"center"},e.qty))))))):"")))},re=a(170),ce=a(173);a(132);const se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};Object(R.a)(z.a)(e=>{let{theme:t}=e;return{["&.".concat(H.a.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(H.a.body)]:{fontSize:14}}}),Object(R.a)(K.a)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});var oe=function(){const e=Object(v.c)(e=>e),t=Object(v.b)(),[a,r]=(Object(g.useHistory)(),Object(l.useState)(!1)),[c,s]=Object(l.useState)(""),[o,m]=Object(l.useState)({amount:e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0)}),[i,d]=Object(l.useState)({companyAddress:"",billingAddress:"",deliveryAddress:""}),[u,p]=Object(l.useState)("company"),b=e=>{p(e.target.value)},f=localStorage.getItem("access_token"),N={headers:{Authorization:"Bearer ".concat(f),"Content-Type":"application/json"}};return Object(l.useEffect)(()=>{E.get("/api/v1/user",N).then(e=>{console.log(e),d({name:[e.data.firstName,e.data.lastName].join(" "),phone:e.data.phone,altPhone:e.data.altPhone,businessName:e.data.businessName,userEmail:e.data.userEmail})}).then(E.get("/api/v1/address",N).then(e=>{var t,a,l,n,r,c,s,o,m,i,u,p,E,g,b,h,v,f,N,y,x;console.log(e),d({companyAddress:[null===(t=e.data.company_address)||void 0===t?void 0:t.line_1,null===(a=e.data.company_address)||void 0===a?void 0:a.line_2,null===(l=e.data.company_address)||void 0===l?void 0:l.city,null===(n=e.data.company_address)||void 0===n?void 0:n.district,null===(r=e.data.company_address)||void 0===r?void 0:r.county,null===(c=e.data.company_address)||void 0===c?void 0:c.country,null===(s=e.data.company_address)||void 0===s?void 0:s.post_code].filter(Boolean).join(", ")||"",deliveryAddress:[null===(o=e.data.delivery_address)||void 0===o?void 0:o.line_1,null===(m=e.data.delivery_address)||void 0===m?void 0:m.line_2,null===(i=e.data.delivery_address)||void 0===i?void 0:i.city,null===(u=e.data.delivery_address)||void 0===u?void 0:u.district,null===(p=e.data.delivery_address)||void 0===p?void 0:p.county,null===(E=e.data.delivery_address)||void 0===E?void 0:E.country,null===(g=e.data.delivery_address)||void 0===g?void 0:g.post_code].filter(Boolean).join(", ")||"",billingAddress:[null===(b=e.data.billing_address)||void 0===b?void 0:b.line_1,null===(h=e.data.billing_address)||void 0===h?void 0:h.line_2,null===(v=e.data.billing_address)||void 0===v?void 0:v.city,null===(f=e.data.billing_address)||void 0===f?void 0:f.district,null===(N=e.data.billing_address)||void 0===N?void 0:N.county,null===(y=e.data.billing_address)||void 0===y?void 0:y.country,null===(x=e.data.billing_address)||void 0===x?void 0:x.post_code].filter(Boolean).join(", ")||""})})).catch(e=>{console.log("Error",e)})},[e.loggedin.UserEmail]),Object(l.useEffect)(()=>{let t=e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0);m({amount:t})},[e.cart]),n.a.createElement("div",{className:"container-fluid bg-light py-5"},n.a.createElement("div",{className:"card shadow-lg border-0 rounded-lg "},n.a.createElement("div",{className:"card-header text-black"},n.a.createElement("h3",{className:"mb-0 text-center"},"Your Shopping Cart")),n.a.createElement("div",{className:"card-body"},e.cart.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",{className:"bg-primary text-white"},n.a.createElement("tr",null,n.a.createElement("th",null,"Product Id"),n.a.createElement("th",null,"Product Photo"),n.a.createElement("th",null,"Product Name"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Amount"),n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,e.cart.map(a=>n.a.createElement("tr",{key:a.item},n.a.createElement("td",null,a.item),n.a.createElement("td",null,n.a.createElement("img",{className:"img-fluid product-image",src:a.image_url||"https://upload.wikimedia.org/wikipedia/commons/d/d1/Image_not_available.png",alt:"product"})),n.a.createElement("td",null,a.item),n.a.createElement("td",null,"\xa3 ",parseInt(a.retail_price)),n.a.createElement("td",null,a.qty),n.a.createElement("td",null,"\xa3 ",a.qty*parseInt(a.retail_price)),n.a.createElement("td",null,n.a.createElement("button",{onClick:()=>(a=>{h()({title:"Delete item",text:"Are you sure to delete this item?",icon:"warning",buttons:!0,dangerMode:!0}).then(l=>{if(l){t({type:"RemoveItem",payload:a});let l=e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0);m({...o,amount:l}),h()("Item has been deleted!",{icon:"success"})}else h()("Item is not deleted!")})})(a),className:"btn btn-outline-danger btn-sm"},"Remove"))))),n.a.createElement("tfoot",null,n.a.createElement("tr",{className:"bg-light"},n.a.createElement("td",{colSpan:"5",className:"text-end"},n.a.createElement("strong",null,"Total Amount")),n.a.createElement("td",{colSpan:"2"},n.a.createElement("strong",null,"\xa3 ",e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0)))))),n.a.createElement("span",null,n.a.createElement("span",{className:"text-danger"},"*"),"The total payable amount will include a 20% VAT.")),n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement("button",{onClick:()=>r(!0),className:"btn btn-primary btn-lg"},"Enter Address and Place Order"))):n.a.createElement("div",{className:"text-center py-5"},n.a.createElement("h4",{className:"text-muted"},"Your Cart is Empty")))),n.a.createElement(re.a,{open:a,onClose:()=>r(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.a.createElement(ce.a,{sx:se,className:"bg-white p-4 rounded-lg shadow-lg",style:{width:"100%",maxWidth:"500px",margin:"20px auto",overflowY:"auto",maxHeight:"90vh"}},n.a.createElement("h3",{className:"text-center mb-4 font-weight-bold"},"Choose Address for Delivery"),n.a.createElement("form",{onSubmit:t=>{t.preventDefault();let a=e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0);m({amount:a});const l="company"===u?i.companyAddress:"billing"===u?i.billingAddress:"delivery"===u?i.deliveryAddress:c;console.log("Selected delivery address:",l);let n={cart:e.cart,address:l};const r=localStorage.getItem("access_token"),s={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}};console.log(n),console.log(e.cart),E.post("api/v1/order",n,s).then(e=>{window.location.href=e.data.sessionUrl,console.log("redirected")}).catch(e=>{console.error("Error placing order:",e),h()({title:"Error",text:"Failed to place order. Please try again later.",icon:"error",button:"Ok"})})}},["company","billing","delivery"].map(e=>n.a.createElement("div",{key:e,className:"mb-4"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"".concat(e,"Address"),name:"deliveryAddress",className:"custom-control-input",checked:u===e,onChange:b,value:e}),n.a.createElement("label",{className:"custom-control-label font-weight-bold",htmlFor:"".concat(e,"Address")},e.charAt(0).toUpperCase()+e.slice(1)," Address")),n.a.createElement("div",{className:"mt-2 p-3 bg-light rounded shadow-sm"},n.a.createElement("small",null,i["".concat(e,"Address")])))),n.a.createElement("div",{className:"mb-4"},n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"newAddress",name:"deliveryAddress",className:"custom-control-input",checked:"new"===u,onChange:b,value:"new"}),n.a.createElement("label",{className:"custom-control-label font-weight-bold",htmlFor:"newAddress"},"Use a different address")),"new"===u&&n.a.createElement("textarea",{className:"form-control mt-2",rows:"3",placeholder:"Enter your new delivery address here",value:c,onChange:e=>s(e.target.value),style:{width:"100%",boxSizing:"border-box"}})),n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block py-2"},"Proceed to Checkout"))))))},me=a(50);var ie=()=>{const[e,t]=Object(l.useState)({userEmail:""}),a=Object(g.useHistory)();return n.a.createElement("div",{className:"container d-flex justify-content-center align-items-center vh-100"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 d-flex justify-content-center align-items-center"},n.a.createElement("img",{className:"bg-light",style:{width:"600px",height:"800px"}})),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"card p-4"},n.a.createElement("h2",{className:"text-center mb-4"},"Forgot Password"),n.a.createElement("form",{onSubmit:t=>{t.preventDefault(),s.a.post("".concat("http://localhost:3000","/api/v1/auth/forgot-password"),e).then(e=>{console.log(e),JSON.stringify(e),h()({title:"Success",text:"Password is successfully sent to your email address",icon:"success",button:"OK"}).then(()=>{a.push("/clogin")})}).catch(e=>{console.log(e.response),h()({title:"Error",text:"Please enter a correct email address",icon:"error",button:"OK"}).then(()=>{a.push("/forgotPassword")})})}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"userEmail",value:e.userEmail,onChange:a=>{const l=a.target.value;t({...e,[a.target.name]:l})},className:"form-control mt-1",placeholder:"Please Enter Your Email",required:!0})),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mt-4"},"Reset Password"),n.a.createElement("div",{className:"text-center mt-3"},n.a.createElement(me.Link,{to:"/clogin"},"Back to Login")))))))},de=a(45),ue=a(91),pe=a.n(ue);var Ee=()=>n.a.createElement("div",{className:"w-100"},n.a.createElement("footer",{className:"mt-3",style:{backgroundColor:"#2c2f54",color:"#ffffff"}},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("a",{href:"https://pinevox.com/",style:{display:"flex",alignItems:"center",marginBottom:"10px"}},n.a.createElement("img",{src:pe.a,alt:"PineVox",style:{height:"60px"}})),n.a.createElement("p",null,"Your all weather communication partner"),n.a.createElement("div",{className:"mt-2 pb-3 pb-md-0"},n.a.createElement("a",{href:"https://www.facebook.com/people/PineVox/100093473274083/",className:"text-white mr-4"},n.a.createElement(C.a,{icon:de.a})),n.a.createElement("a",{href:"https://twitter.com/pinevox",className:"text-white mr-4"},n.a.createElement(C.a,{icon:de.d})),n.a.createElement("a",{href:"https://www.youtube.com/@pinevox",className:"text-white mr-4"},n.a.createElement(C.a,{icon:de.e})),n.a.createElement("a",{href:"https://www.instagram.com/pinevox?r=nametag",className:"text-white mr-4"},n.a.createElement(C.a,{icon:de.b})),n.a.createElement("a",{href:"https://www.linkedin.com/company/pinevox/",className:"text-white mr-4"},n.a.createElement(C.a,{icon:de.c})))),n.a.createElement("div",{className:"col-md-6 text-md-right"},n.a.createElement("h5",{className:"pt-3 d-none d-md-block"},"Get in Touch"),n.a.createElement("a",{href:"https://maps.app.goo.gl/geFbcYcvkNkE8akP6",className:"text-white d-block d-md-inline-block mb-md-2"},"Havelock Hub, 14 Havelock Place, Harrow, London HA1 1LJ"),n.a.createElement("p",{className:"mb-md-2 mb-md-0"},"+44 330 179 6233"),n.a.createElement("a",{href:"mailto:hello@pinevox.com",style:{color:"#ffffff"}},"hello@pinevox.com"))),n.a.createElement("div",{className:"text-center mt-3 pb-3"},n.a.createElement("p",null," 2024 PineVox | ",n.a.createElement("a",{href:"https://pinevox.com/privacy-policy/",style:{color:"#ffffff"}},"Privacy Policy"))))));var ge=()=>{const e="CvmjTpTwWUedB8nNMCKxXQ43497",[t,a]=Object(l.useState)("Basic"),[r,c]=Object(l.useState)({company_address:{post_code:""},billing_address:{post_code:""},delivery_address:{post_code:""}}),[o,m]=Object(l.useState)({company_address:[],billing_address:[],delivery_address:[]}),[i,d]=Object(l.useState)({company_address:!1,billing_address:!1,delivery_address:!1}),[u,p]=Object(l.useState)(!1),[b,v]=Object(l.useState)(3),[f,N]=Object(l.useState)(!1),[y,x]=Object(l.useState)(!1),k=Object(g.useHistory)(),_=(e,t)=>{const{value:a}=e.target;c(e=>({...e,[t]:{...e[t],post_code:a}})),a.length>2?S(a,t):m(e=>({...e,[t]:[]}))},w=async(t,a)=>{const{id:l}=t,n="https://api.getAddress.io/get/".concat(l,"?api-key=").concat(e);try{const e=(await s.a.get(n)).data;c(t=>({...t,[a]:{line_1:e.line_1,line_2:e.line_2||"",city:e.town_or_city,district:e.county,county:e.county,country:e.country,post_code:e.postcode}})),m(e=>({...e,[a]:[]})),d(e=>({...e,[a]:!0}))}catch(r){console.error("Error fetching address details:",r)}},S=(t,a)=>{const l="https://api.getAddress.io/autocomplete/".concat(t,"?api-key=").concat(e);s.a.get(l).then(e=>{m(t=>({...t,[a]:e.data.suggestions}))}).catch(e=>console.error("Error:",e))};Object(l.useEffect)(()=>{u&&r&&E.post("api/v1/address",{address:r}).then(()=>{h()({title:"Success",text:"Address added successfully",icon:"success",button:"OK"}),k.push("/billing")}).catch(e=>{console.error("API call error:",e),h()({title:"Error",text:e.message,icon:"error",button:"OK"})}).finally(()=>{p(!1)})},[u,r,k]);const O=(e,t)=>{c(t?t=>({...t,[e]:{...t.company_address}}):t=>({...t,[e]:{post_code:"",line_1:"",line_2:"",city:"",district:"",county:"",country:""}}))},j=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};return n.a.createElement("div",{className:"card mb-3",style:{borderRadius:"1rem"}},n.a.createElement("div",{className:"card-header text-white",style:{backgroundColor:"#3e97f7",borderRadius:"1rem"},onClick:()=>d(t=>({...t,[e]:!t[e]}))},n.a.createElement("h5",{className:"mb-0 d-flex justify-content-between align-items-center"},t,n.a.createElement("span",null,i[e]?"\u25b2":"\u25bc"))),n.a.createElement("div",{className:"card-body ".concat(i[e]?"show":"collapse")},a&&n.a.createElement("div",{className:"form-check form-check-inline",style:{paddingBottom:"1rem"}},n.a.createElement("input",{className:"form-check-input",style:{width:"1rem"},type:"checkbox",name:"copy-".concat(e),id:"copy-".concat(e),checked:l,onChange:t=>{const a=t.target.checked;s(a),O(e,a)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"copy-".concat(e)},"Same as Company Address")),n.a.createElement("div",{className:"form-group position-relative"},n.a.createElement("label",null,"Postcode",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{type:"text",className:"form-control",value:r[e].post_code,onChange:t=>_(t,e),required:!0}),o[e].length>0&&n.a.createElement("ul",{className:"list-group position-absolute w-100",style:{zIndex:99}},o[e].map((t,a)=>n.a.createElement("li",{key:a,className:"list-group-item list-group-item-action",style:{backgroundColor:"#e6e8eb"},onClick:()=>w(t,e)},t.address)))),i[e]&&n.a.createElement(n.a.Fragment,null,["line_1","line_2","city","district","county","country"].map(t=>n.a.createElement("div",{className:"form-group",key:t},n.a.createElement("label",null,"line_1"===t?"Address Line 1":"line_2"===t?"Address Line 2":t.replace("_"," ").charAt(0).toUpperCase()+t.slice(1),"line_2"!==t&&n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{type:"text",className:"form-control",value:r[e][t]||"",onChange:a=>c(l=>({...l,[e]:{...l[e],[t]:a.target.value}})),required:"line_2"!==t}))))))};return n.a.createElement("div",{className:"container py-5"},n.a.createElement(L,{currentStep:b}),n.a.createElement("div",{className:"card shadow"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"mb-4 border-bottom pb-2 d-flex justify-content-between"},n.a.createElement("h4",null,"Please fill the address details below"),n.a.createElement("h4",null,"Selected plan: ",n.a.createElement("span",{className:""},t))),n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),p(!0)}},j("company_address","Company Address"),j("billing_address","Billing Address",!0,f,N),j("delivery_address","Delivery Address",!0,y,x),n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg px-4 rounded-pill shadow-sm me-0 me-md-3 w-100 w-md-auto"},"Proceed"))))))};var be=()=>{const e=Object(g.useHistory)(),[t,a]=(Object(v.c)(e=>e),Object(l.useState)(0)),[r,c]=Object(l.useState)(!1),[s,o]=Object(l.useState)(!1),[m,i]=Object(l.useState)("Basic"),[d,u]=Object(l.useState)(2),[p,b]=Object(l.useState)({userCount:0,pstnCost:0,adslCost:0,callRecordingCost:0,annexRental:0,faxToEmailCost:0,newNumber:r});return Object(l.useEffect)(()=>{s?(console.log("Making API call with user data:",p),E.post("api/v1/services",p).then(t=>{e.push("/address")}).catch(e=>{console.error("API call error:",e),h()({title:"Error",text:e.message,icon:"error",button:"ok"})}).finally(()=>{o(!1)})):console.log("Errors detected, not making API call")},[p,e]),n.a.createElement("div",{className:"container py-5"},n.a.createElement(L,{currentStep:d}),n.a.createElement("div",{className:"card shadow"},n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),b(e=>({...e,userCount:t})),o(!0)}},n.a.createElement("div",{className:"mb-4 border-bottom pb-2 d-flex flex-column flex-md-row justify-content-between"},n.a.createElement("h4",{className:"mb-2 mb-md-0"},"Please fill the following details"),n.a.createElement("h4",{className:"mb-2 mb-md-0"},"Selected plan: ",n.a.createElement("span",null,m))),n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-md-6 mb-3 mb-md-0"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"userCount",className:"form-label"},"Number of Users: ",n.a.createElement("span",{className:"text-danger"},"*")),n.a.createElement("input",{type:"number",min:"1",id:"userCount",className:"form-control form-control-sm",value:t,onChange:e=>a(parseInt(e.target.value)),required:!0}))),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",{className:"form-label"},"Existing Number:"),n.a.createElement("div",{className:"d-flex flex-column"},n.a.createElement("div",{className:"form-check"},n.a.createElement("input",{type:"radio",id:"existingYes",className:"form-check-input",name:"existingNumber",checked:r,onChange:()=>c(!0)}),n.a.createElement("label",{className:"form-check-label",htmlFor:"existingYes"},"Keep Existing Number")),n.a.createElement("div",{className:"form-check"},n.a.createElement("input",{type:"radio",id:"existingNo",className:"form-check-input",name:"existingNumber",checked:!r,onChange:()=>c(!1)}),n.a.createElement("label",{className:"form-check-label",htmlFor:"existingNo"},"Need New Number"))))),n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg px-4 rounded-pill shadow-sm me-0 me-md-3 w-100 w-md-auto"},"Proceed to Address Details"))))))};var he=e=>{let{component:t,path:a,...l}=e;const r=Object(v.c)(e=>e),c=r.loggedin.IsLoggedIn;return console.log("LoggedIn ",r.loggedin.IsLoggedIn),n.a.createElement(g.Route,Object.assign({},l,{component:e=>c?n.a.createElement("div",{className:"main-container"},n.a.createElement(t,Object.assign({},e,{path:a}))):n.a.createElement(g.Redirect,{to:"/clogin"})}))};var ve=()=>{const[e,t]=Object(l.useState)(!1),a=Object(v.c)(e=>e),[r,c]=Object(l.useState)({}),[o,m]=Object(l.useState)(0),[i,d]=Object(l.useState)({}),[u,p]=Object(l.useState)(4),[g,b]=Object(l.useState)({}),[f,N]=Object(l.useState)(25),[y,x]=Object(l.useState)(0),[k,_]=Object(l.useState)(""),[w,S]=Object(l.useState)(null);Object(l.useEffect)(()=>{C()},[r,w,g]);const O=localStorage.getItem("access_token"),j={headers:{Authorization:"Bearer ".concat(O),"Content-Type":"application/json"}},C=()=>{console.log("Calculating total cost..."),console.log("Services:",r),console.log("Selected Plan:",g),console.log("Selected Coupon:",w);let e=r.userCount&&g.cost?g.cost*r.userCount:0;e=Number(e.toFixed(2));let t=r.userCount?25*r.userCount:0;t=Number(t.toFixed(2)),console.log("Initial calculations:",{planCost:e,temp:t}),w&&(w.activationDiscount&&(t=Number((t-t*w.activationDiscount/100).toFixed(2))),w.monthlyDiscount&&(e=Number((e-e*w.monthlyDiscount/100).toFixed(2)))),console.log("After coupon application:",{planCost:e,temp:t});let a=(1.2*(0+e+t)).toFixed(2);a=Number(a),console.log("Final calculations:",{monthlyServices:0,planCost:e,temp:t,total:a}),x(e),N(t),m(a)},P=()=>{E.get("/api/v1/address",j).then(e=>{console.log(e.data),d(e.data),(()=>{const e=localStorage.getItem("packageName")||"basic";e?s.a.get("".concat("http://localhost:3000","/api/v1/products/get-package?packageName=").concat(e)).then(e=>{b({name:e.data.packageName,cost:e.data.cost.toFixed(2)}),console.log(e.data)}).catch(e=>{h()({title:"Error",text:"Error fetching package details: ".concat(e.message),icon:"error",button:"ok"})}):h()({title:"Error",text:"Please select the package first",icon:"error",button:"ok"})})()}).catch(e=>{h()({title:"Error",text:"Error fetching address: ".concat(+e.message),icon:"error",button:"ok"})})};Object(l.useEffect)(()=>{E.get("/api/v1/services",j).then(e=>{console.log(e.data),c(e.data.service),P()}).catch(e=>{h()({title:"Error",text:"Error fetching services: ".concat(+e.message),icon:"error",button:"ok"})})},[a.loggedin.UserEmail]);return n.a.createElement("div",{className:"container py-5 d-flex flex-column"},n.a.createElement(L,{currentStep:u}),n.a.createElement("div",{className:"card shadow"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-8"},n.a.createElement("h4",{className:"mb-4 border-bottom pb-2"},"Service Details"),n.a.createElement("div",{className:"table-responsive mb-4"},n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",{className:"table-light"},n.a.createElement("tr",null,n.a.createElement("th",null,"Service"),n.a.createElement("th",null,"Number of users"),n.a.createElement("th",null,"Price per user"),n.a.createElement("th",null,"Total",n.a.createElement("span",{className:"text-danger"},"*")))),n.a.createElement("tbody",null,n.a.createElement("tr",{className:"table-primary"},n.a.createElement("td",null,n.a.createElement("strong",null,g.name," Plan")),n.a.createElement("td",null,r.userCount),n.a.createElement("td",null,"\xa3",g.cost),n.a.createElement("td",null,n.a.createElement("strong",null,"\xa3",(g.cost*r.userCount).toFixed(2)))),n.a.createElement("tr",{className:"table-info"},n.a.createElement("td",null,n.a.createElement("strong",null,"Activation Charge")),n.a.createElement("td",null,r.userCount),n.a.createElement("td",null,"\xa3",25,"/user"),n.a.createElement("td",null,n.a.createElement("strong",null,"\xa3",25*r.userCount))))),n.a.createElement("div",{className:"discount mt-4"},n.a.createElement("form",{onSubmit:e=>{e.preventDefault(),E.get("/api/v1/coupon/".concat(k),j).then(e=>{e.data?S(e.data):h()({title:"Error",text:"Invalid coupon code",icon:"error",button:"Ok"})}).catch(e=>{console.error("Error fetching coupon:",e),h()({title:"Error",text:"Failed to apply coupon",icon:"error",button:"Ok"})})}},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"mr-2"},n.a.createElement("input",{type:"text",className:"form-control",style:{marginBottom:"0px"},placeholder:"Enter coupon code",value:k,onChange:e=>_(e.target.value)})),n.a.createElement("button",{className:"btn btn-primary",type:"submit",style:{marginTop:"0px"}},"Apply Coupon"))),w&&n.a.createElement("div",{className:"alert alert-success"},n.a.createElement("strong",null,"Applied Coupon:")," ",w.name," -"," ",w.description)),n.a.createElement("span",null,n.a.createElement("span",{className:"text-danger"},"*"),"The total payable amount will include a 20% VAT."))),n.a.createElement("div",{className:"col-lg-4"},n.a.createElement("h4",{className:"mb-4 border-bottom pb-2"},"Address Information"),n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-header bg-primary text-white"},n.a.createElement("h6",{className:"mb-0"},"Company Address")),n.a.createElement("div",{className:"card-body"},n.a.createElement("address",{className:"mb-0"},i.company_address&&n.a.createElement(l.Fragment,null,[i.company_address.line_1,i.company_address.line_2,i.company_address.city,i.company_address.district,i.company_address.county,i.company_address.post_code,i.company_address.country].filter(Boolean).join(", "))))),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header bg-primary text-white"},n.a.createElement("h6",{className:"mb-0"},"Billing Address")),n.a.createElement("div",{className:"card-body"},n.a.createElement("address",{className:"mb-0"},i.billing_address&&n.a.createElement(l.Fragment,null,[i.billing_address.line_1,i.billing_address.line_2,i.billing_address.city,i.billing_address.district,i.billing_address.county,i.billing_address.post_code,i.billing_address.country].filter(Boolean).join(", "))))))),n.a.createElement("div",{className:"row mt-4"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"card bg-light border-0 shadow-sm"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row g-4 d-flex justify-content-center"},n.a.createElement("div",{className:"col-md-3"},n.a.createElement("div",{className:"p-3 bg-white rounded shadow-sm"},n.a.createElement("h6",{className:"text-muted mb-2"},"Monthly Cost"),n.a.createElement("p",{className:"h3 mb-0 text-primary"},"\xa3",y))),n.a.createElement("div",{className:"col-md-3"},n.a.createElement("div",{className:"p-3 bg-white rounded shadow-sm"},n.a.createElement("h6",{className:"text-muted mb-2"},"Activation Charge"),n.a.createElement("p",{className:"h3 mb-0 text-primary"},"\xa3",f))),n.a.createElement("div",{className:"col-md-3"},n.a.createElement("div",{className:"p-3 bg-primary text-white rounded shadow"},n.a.createElement("h6",{className:"mb-2"},"Total Amount"),n.a.createElement("p",{className:"h2 mb-0 font-weight-bold"},"\xa3",o))))))))),n.a.createElement("div",{className:"card-footer bg-light text-center py-4"},n.a.createElement("button",{className:"btn btn-primary btn-lg px-5 rounded-pill shadow-sm",onClick:e=>{e.preventDefault();const a={description:"test description",amount:100*o,monthlyCost:100*y,currency:"GBP",appFee:500,mandateScheme:"bacs"};E.post("/api/v1/mandate/billing",a,j).then(e=>{console.log(e.data),window.location.href=e.data.authorisationUrl,t(!1)}),u<4&&p(u+1)}},n.a.createElement("i",{className:"bi bi-credit-card me-2"}),"Proceed to Payment"))))};const fe={container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e6f7ff"},card:{maxWidth:"400px",borderRadius:"10px",border:"none",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",animation:"fadeIn 1s ease-in-out"},iconContainer:{width:"100px",height:"100px",backgroundColor:"#f8d7da",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",animation:"bounceIn 1s ease-in-out"},checkmark:{fontSize:"48px",color:"#155724"},title:{fontSize:"24px",color:"#721c24",marginBottom:"15px"},text:{fontSize:"16px",color:"#721c24",marginBottom:"30px"},button:{backgroundColor:"#007bff",borderColor:"#007bff"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},"@keyframes bounceIn":{"0%, 20%, 40%, 60%, 80%, 100%":{transform:"translateY(0)"},"50%":{transform:"translateY(-20px)"}}};var Ne=function(){return n.a.createElement("div",{style:fe.container},n.a.createElement("div",{className:"card",style:fe.card},n.a.createElement("div",{className:"card-body text-center"},n.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:fe.iconContainer},n.a.createElement("div",{className:"checkmark",style:fe.checkmark},"\ud83d\ude14")),n.a.createElement("p",{className:"card-title",style:fe.title},"Payment Unsuccessful"),n.a.createElement("p",{className:"card-text",style:fe.text},"Your transaction could not be processed. Please try again later or contact support."),n.a.createElement("a",{href:"/",className:"btn btn-primary",style:fe.button},"Go to Profile"))))};const ye={container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e6f7ff"},card:{maxWidth:"400px",borderRadius:"10px",border:"none",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",animation:"fadeIn 1s ease-in-out"},iconContainer:{width:"100px",height:"100px",backgroundColor:"#d1ecf1",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",animation:"bounceIn 1s ease-in-out"},checkmark:{fontSize:"48px",color:"#155724"},title:{fontSize:"24px",color:"#004085",marginBottom:"15px"},text:{fontSize:"16px",color:"#5a6268",marginBottom:"30px"},button:{backgroundColor:"#007bff",borderColor:"#007bff"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},"@keyframes bounceIn":{"0%, 20%, 40%, 60%, 80%, 100%":{transform:"translateY(0)"},"50%":{transform:"translateY(-20px)"}}};var xe=function(){const e=Object(v.c)(e=>e);return Object(l.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify([]))},[e.cart]),n.a.createElement("div",{style:ye.container},n.a.createElement("div",{className:"card",style:ye.card},n.a.createElement("div",{className:"card-body text-center"},n.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:ye.iconContainer},n.a.createElement("div",{className:"checkmark",style:ye.checkmark},"\ud83d\ude04")),n.a.createElement("h1",{className:"card-title",style:ye.title},"Payment Successful!"),n.a.createElement("p",{className:"card-text",style:ye.text},"Thank you for your payment. Your transaction has been completed successfully."),n.a.createElement("a",{href:"/product",className:"btn btn-primary",style:ye.button},"Explore wide range of products"))))},ke=a(92);var _e=function(){const[e,t]=Object(l.useState)({password:""}),a=Object(ke.useHistory)(),r=a=>{const l=a.target.value;t({...e,[a.target.name]:l})};return n.a.createElement("div",{className:"container d-flex justify-content-center align-items-center vh-100"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 d-flex justify-content-center align-items-center"},n.a.createElement("img",{src:"https://via.placeholder.com/600x800",alt:"login",className:"img-fluid"})),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"card p-4"},n.a.createElement("h2",{className:"text-center mb-4"},"Forgot Password"),n.a.createElement("form",{onSubmit:t=>{t.preventDefault(),s.a.post("".concat("http://localhost:3000","/api/v1/auth/forgot-password"),e).then(e=>{console.log(e),JSON.stringify(e),h()({title:"Success",text:"Password has been successfully updated",icon:"success",button:"OK"}).then(()=>{a.push("/clogin")})}).catch(e=>{console.log(e.response),h()({title:"Error",text:"Error occured",icon:"error",button:"OK"}).then(()=>{a.push("/forgotPassword")})})}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Enter new Password"),n.a.createElement("input",{type:"text",name:"password",onChange:r,className:"form-control mt-1",placeholder:"Please Enter new password",required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Confirm new password"),n.a.createElement("input",{type:"text",name:"confirmPassword",onChange:r,className:"form-control mt-1",placeholder:"Please confirm new password",required:!0})),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mt-4"},"Reset Password"),n.a.createElement("div",{className:"text-center mt-3"},n.a.createElement(me.Link,{to:"/clogin"},"Back to Login")))))))};var we=()=>{const e="CvmjTpTwWUedB8nNMCKxXQ43497",[t,a]=Object(l.useState)(""),[r,c]=Object(l.useState)([]),[o,m]=Object(l.useState)(""),[i,d]=Object(l.useState)([]),[u,p]=Object(l.useState)(""),[b,f]=Object(l.useState)([]),[N,y]=Object(l.useState)({company_address:{line_1:"",line_2:"",city:"",district:"",county:"",country:"",post_code:""},billing_address:{line_1:"",line_2:"",city:"",district:"",county:"",country:"",post_code:""},delivery_address:{line_1:"",line_2:"",city:"",district:"",county:"",country:"",post_code:""}}),[x,k]=(Object(v.c)(e=>e),Object(l.useState)(!1)),[_,w]=Object(l.useState)(!1),[S,O]=Object(l.useState)(3),j=Object(g.useHistory)(),C=(e,t)=>{const{name:a,value:l}=e.target;y(e=>({...e,[t]:{...e[t],[a]:l}}))},P=async(t,a)=>{const{address:l,url:n,id:r}=t,o="https://api.getAddress.io/get/".concat(r,"?api-key=").concat(e);s.a.get(o).then(e=>{const t=e.data;y(e=>({...e,[a]:{...e[a],line_1:t.line_1,line_2:t.line_2,city:t.town_or_city,district:t.county,county:t.county,country:t.country,post_code:t.postcode}})),"company_address"===a?c([]):"billing_address"===a?d([]):"delivery_address"===a&&f([])})};Object(l.useEffect)(()=>{let e=!0;return x&&N?E.post("api/v1/address",{address:N}).then(t=>{e&&(h()({title:"Success",text:"Services added successfully",icon:"success",button:"ok"}),j.push("/billing"))}).catch(t=>{e&&(console.error("API call error:",t),h()({title:"Error",text:t.message,icon:"error",button:"ok"}))}).finally(()=>{e&&k(!1)}):console.log("Errors detected, not making API call"),()=>{e=!1}},[x,N,j]);const I=(t,a)=>{const l="https://api.getAddress.io/autocomplete/".concat(t,"?api-key=").concat(e);s.a.get(l).then(e=>{"company_address"===a?c(e.data.suggestions):"billing_address"===a?d(e.data.suggestions):"delivery_address"===a&&f(e.data.suggestions)}).catch(e=>console.error("Error:",e))};return Object(l.useEffect)(()=>{let e;return t&&(e=setTimeout(()=>{I(t,"company_address")},1e3)),()=>clearTimeout(e)},[t]),Object(l.useEffect)(()=>{let e;return o&&(e=setTimeout(()=>{I(o,"billing_address")},1e3)),()=>clearTimeout(e)},[o]),Object(l.useEffect)(()=>{let e;return u&&(e=setTimeout(()=>{I(u,"delivery_address")},1e3)),()=>clearTimeout(e)},[u]),n.a.createElement("div",{className:"container py-5 d-flex flex-column justify-content-center"},n.a.createElement(L,{currentStep:S}),n.a.createElement("div",{className:"card mt-2"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h5",{className:"card-subtitle mb-1 text-center"},"Company Address"),n.a.createElement("div",{className:"form-group position-relative"},n.a.createElement("label",null,"Postcode"),n.a.createElement("input",{type:"text",className:"form-control",onChange:e=>a(e.target.value),required:!0}),r.length>0&&n.a.createElement("ul",{className:"list-group position-absolute w-100",style:{zIndex:"99"}},r.map((e,t)=>n.a.createElement("li",{key:t,className:"list-group-item",onClick:()=>P(e,"company_address")},e.address)))),["line_1","line_2","city","district","county","country","post_code"].map(e=>n.a.createElement("div",{className:"form-group",key:e},n.a.createElement("label",null,e.charAt(0).toUpperCase()+e.slice(1)),n.a.createElement("input",{type:"text",className:"form-control",name:e,value:N.company_address[e],onChange:e=>C(e,"company_address"),required:!0})))),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h5",{className:"card-subtitle mb-1 text-center"},"Billing Address"),n.a.createElement("div",{className:"form-group position-relative"},n.a.createElement("label",null,"Postcode"),n.a.createElement("input",{type:"text",className:"form-control",onChange:e=>m(e.target.value),required:!0}),i.length>0&&n.a.createElement("ul",{className:"list-group position-absolute w-100",style:{zIndex:"99"}},i.map((e,t)=>n.a.createElement("li",{key:t,className:"list-group-item",onClick:()=>P(e,"billing_address")},e.address)))),["line_1","line_2","city","district","county","country","post_code"].map(e=>n.a.createElement("div",{className:"form-group",key:e},n.a.createElement("label",null,e.charAt(0).toUpperCase()+e.slice(1)),n.a.createElement("input",{type:"text",className:"form-control",name:e,value:N.billing_address[e],onChange:e=>C(e,"billing_address"),disabled:_,required:!0})))),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h5",{className:"card-subtitle mb-1 text-center"},"Delivery Address"),n.a.createElement("div",{className:"form-group position-relative"},n.a.createElement("label",null,"Postcode"),n.a.createElement("input",{type:"text",className:"form-control",onChange:e=>p(e.target.value),required:!0}),b.length>0&&n.a.createElement("ul",{className:"list-group position-absolute w-100",style:{zIndex:"99"}},b.map((e,t)=>n.a.createElement("li",{key:t,className:"list-group-item",onClick:()=>P(e,"delivery_address")},e.address)))),["line_1","line_2","city","district","county","country","post_code"].map(e=>n.a.createElement("div",{className:"form-group",key:e},n.a.createElement("label",null,e.charAt(0).toUpperCase()+e.slice(1)),n.a.createElement("input",{type:"text",className:"form-control",name:e,value:N.delivery_address[e],onChange:e=>C(e,"delivery_address"),disabled:_,required:!0}))))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"sameAsShipping",checked:_,onChange:()=>{w(!_),y(_?e=>({...e,billing_address:{line_1:"",line_2:"",city:"",district:"",county:"",country:"",post_code:""}}):e=>({...e,billing_address:{...e.company_address}}))}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"sameAsShipping"},"Company address same as shipping address")),n.a.createElement("button",{type:"submit",className:"btn btn-danger btn-block",onClick:async e=>{e.preventDefault(),k(!0)}},"Proceed"))))};var Se=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(f.a,null,n.a.createElement("div",{className:"justify-content-around"},n.a.createElement(T,null)),n.a.createElement("div",{className:"content min_height"},n.a.createElement(g.Switch,null,n.a.createElement(g.Route,{component:B,path:"/register"}),n.a.createElement(g.Route,{component:$,path:"/clogin"}),n.a.createElement(g.Route,{component:ie,path:"/forgotPassword"}),n.a.createElement(g.Route,{component:_e,path:"/resetPassword"}),n.a.createElement(g.Route,{component:$,path:"/",exact:!0}),n.a.createElement(he,{component:S,path:"/product"}),n.a.createElement(he,{component:S,path:"/cat/:pcat/:subcat"}),n.a.createElement(he,{component:te,path:"/cprofile"}),n.a.createElement(he,{component:Q,path:"/myproducts"}),n.a.createElement(he,{component:X,path:"/myorders"}),n.a.createElement(he,{component:ve,path:"/billing"}),n.a.createElement(he,{component:ne,path:"/orders"}),n.a.createElement(he,{component:oe,path:"/cart"}),n.a.createElement(he,{component:ge,path:"/address"}),n.a.createElement(he,{component:we,path:"/addressPage"}),n.a.createElement(he,{component:be,path:"/configuration"}),n.a.createElement(he,{component:xe,path:"/PaymentSuccess"}),n.a.createElement(he,{component:Ne,path:"/PaymentFailure"}))),n.a.createElement(Ee,null)))};var Oe=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,181)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:r,getTTFB:c}=t;a(e),l(e),n(e),r(e),c(e)})},je=a(75);const Ce=[];var Pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AddItem":return[...e,t.payload];case"RemoveItem":return e.filter(e=>e.item!==t.payload.item);case"Clear":return[];case"InitializeCart":return t.payload;default:return e}};const Ie=()=>{const e=localStorage.getItem("access_token");if(!e)return null;try{const t=Object(o.a)(e);return{userEmail:t.userId,username:t.username,role:t.role}}catch(t){return console.error("Invalid token",t),null}},Ae=(()=>{const e=Ie();return{IsLoggedIn:null!==e,Username:e?e.username:"",UserEmail:e?e.userEmail:"",Role:e?e.role:""}})();var Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IsLoggedIn":const t=Ie();return{...e,IsLoggedIn:!0,Username:t.username,UserEmail:t.userEmail,Role:t.role};case"LogOut":return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),{...e,IsLoggedIn:!1,Username:"",Role:"",UserEmail:""};default:return e}};localStorage.getItem("cart")||localStorage.setItem("cart",JSON.stringify([]));const Le=JSON.parse(localStorage.getItem("cart")),Fe=Object(je.a)({loggedin:Te,cart:Pe}),Be=Object(je.b)(Fe);Be.dispatch({type:"InitializeCart",payload:Le});var De=Be;c.a.render(n.a.createElement(G.b,{clientId:"258500647366-jesetr6ivqqh8kje2nfgm05mdtjrbd91.apps.googleusercontent.com"},n.a.createElement(n.a.StrictMode,null,console.table(De),n.a.createElement(v.a,{store:De},n.a.createElement(Se,null)))),document.getElementById("root")),Oe(console.log)},78:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){e.exports=a.p+"static/media/Pinevox-Horizontal.9f6283f6.svg"},89:function(e,t,a){e.exports=a.p+"static/media/LoginPageImg.3954ec80.png"},91:function(e,t,a){e.exports=a.p+"static/media/PineVox-Horizontal-bw.f795a094.svg"}},[[102,1,2]]]);
//# sourceMappingURL=main.9df28828.chunk.js.map