(this["webpackJsonpecommerce-frontend"]=this["webpackJsonpecommerce-frontend"]||[]).push([[0],{102:function(e,t,a){e.exports=a(133)},107:function(e,t,a){},119:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),c=a.n(r),s=(a(107),a(78),a(168)),o=a(29);const m=s.a.create({baseURL:"https://myaccount.pinevox.com"});let i=!1,d=[];const u=e=>{if(!e)return null;try{return 1e3*Object(o.a)(e).exp}catch(t){return console.error("Error decoding token:",t),null}},p=async()=>{try{console.log("Refreshing token...");const t=localStorage.getItem("refresh_token"),a=await m.post("/api/v1/auth/refresh-token",null,{headers:{Authorization:"Bearer ".concat(t)}});console.log(a.data);const{accessToken:n,refreshToken:l}=a.data;return localStorage.setItem("access_token",n),localStorage.setItem("refresh_token",l),localStorage.setItem("expiry_time",u(n)),console.log("Token refreshed successfully."),i=!1,e=n,d.map(t=>t(e)),d=[],n}catch(t){return console.error("Token refresh error:",t),i=!1,null}var e};m.interceptors.request.use(async e=>{try{if(e.url.includes("/refresh-token"))return e;let t=localStorage.getItem("access_token");const a=u(t);return a&&Date.now()>=a-6e4&&(i?t=await new Promise(e=>{var t;t=t=>{e(t)},d.push(t)}):(i=!0,t=await p())),console.log("here"),t&&(e.headers.Authorization="Bearer ".concat(t)),e}catch(t){return console.error("Interceptor error:",t),Promise.reject(t)}},e=>Promise.reject(e));var E=m,g=a(17);var b=a(7),h=a.n(b);var v=a(11),f=a(13);a(80);var y=function(){const[e,t]=Object(n.useState)("");return l.a.createElement("ul",{className:"navbar-nav align-items-center"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("products"===e?"active":""),to:"/cart"},"Products ")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link nav-link-hover ".concat("contact"===e?"active":""),href:"https://pinevox.com/contact/",target:"_blank",rel:"noopener noreferrer"},"Contact")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("login"===e?"active":""),to:"/clogin"},l.a.createElement("i",{className:"fa fa-sign-in"})," Login")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("register"===e?"active":""),to:"/register"},l.a.createElement("i",{className:"fa fa-user-plus"})," Register")))};var N=e=>{let{isLoggedIn:t}=e;const[a,r]=Object(n.useState)(""),c=e=>{r(e)},s=e=>{i({type:"LogOut"}),sessionStorage.clear(),m.push("/")},o=Object(v.c)(e=>e),m=Object(g.useHistory)(),i=Object(v.b)();return console.log(sessionStorage.getItem("role"),t),console.log(o.loggedin.username),t?t?l.a.createElement("ul",{className:"navbar-nav align-items-center"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("span",{className:"nav-link text-primary"}," Welcome, ",o.loggedin.Username)),l.a.createElement("li",{className:"nav-item"},l.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("cart"===a?"active":""),to:"/cart",onClick:()=>c("cart")},"View Cart ",0===o.cart.length?"":l.a.createElement("span",{className:"badge badge-primary p-2"},o.cart.map(e=>e.qty).reduce((e,t)=>parseInt(e)+parseInt(t))))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("profile"===a?"active":""),to:"/cprofile",onClick:()=>c("profile")},"Profile")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(f.b,{className:"nav-link nav-link-hover ".concat("product"===a?"active":""),to:"/product",onClick:()=>c("orders")},"Products")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(f.b,{className:"nav-link nav-link-hover",onClick:s,to:"#"},"Logout"))):void 0:l.a.createElement(y,null)};a(118),a(119);var x=function(e){const{x:t,showModal:a}=e,[r,c]=Object(n.useState)(!1),s=0===t.free_stock?t.free_stock<=5&&t.free_stock>0||"EOL"===t.availability?"limited":"out-of-stock":"";return l.a.createElement("div",{className:"col-md-3",key:t.item},l.a.createElement("div",{className:"product-card"},l.a.createElement("div",{className:"product-img"},l.a.createElement("img",{style:{border:"none"},src:t.image_url?t.image_url:"https://upload.wikimedia.org/wikipedia/commons/d/d1/Image_not_available.png",className:"img-thumbnail",loading:"lazy",alt:t.item})),l.a.createElement("div",{className:"product-info text-center"},l.a.createElement("h3",{className:"product-name"},t.item),l.a.createElement("h6",{className:"product-category"},"Brand: ",t.class),l.a.createElement("h6",{className:"product-category"},"Stock: ",t.free_stock),l.a.createElement("div",{className:"description-prod"},l.a.createElement("p",null,r?t.description:"".concat(t.description.substring(0,20)),l.a.createElement("a",{onClick:()=>{c(!r)},color:"#6574F6"},r?"...less":"...more"))),"out-of-stock"===s?l.a.createElement("p",{className:"out-of-stock-text"},"Out of stock"):l.a.createElement("div",{className:"row d-flex justify-content-around"},l.a.createElement("div",{className:"product-price"},"\xa3 ",t.retail_price),l.a.createElement("button",{type:"button",className:"btn btn-cart mt-2",onClick:()=>a(t)},l.a.createElement("span",null,"\ud83d\uded2")," Add to Cart")))))};a(120),a(121),a(122);var k=function(){return l.a.createElement("div",{className:"header-container"},l.a.createElement("div",{className:"header d-flex flex-column flex-md-row align-items-center"},l.a.createElement("div",{className:"header-content text-center text-md-start"},l.a.createElement("h2",null,"Revolutionize Your IT Infrastructure"),l.a.createElement("p",null,"Equip your business with the latest in IT hardware. Our comprehensive range includes high-performance servers, cutting-edge hardware, and robust networking solutions. Easy setup and unparalleled support ensure your tech is always up and running."),l.a.createElement("p",{className:"info-text"},"No setup fee required \u2022 30-day money-back guarantee"))))},_=(a(123),a(85));var w=()=>l.a.createElement(_.a,{src:"https://lottie.host/654a6092-acc4-4ee6-bb26-399a588cba05/bEUJiDR8Wy.json",background:"transparent",speed:1,style:{width:300,height:300},loop:!0,autoplay:!0,controls:!0});var S=function(e){const[t,a]=Object(n.useState)([]),{pcat:r,subcat:c}=Object(g.useParams)(),{pname:s}=Object(g.useParams)(),o=Object(v.c)(e=>e),[m,i]=Object(n.useState)({}),[d,u]=Object(n.useState)(1),p=Object(v.b)(),b=Object(g.useHistory)(),[f,y]=Object(n.useState)(!0),[N,_]=Object(n.useState)("modal fade"),[S,O]=Object(n.useState)("none"),j=e=>{console.log("Child call parent"),_("modal fade show"),O("block"),i(e)},C=()=>{_("modal fade"),O("none")};Object(n.useEffect)(()=>{0===t.length&&E.get("/api/v1/products",{withCredentials:!0}).then(e=>{y(!1),console.log(e.data),a(e.data||[])}).catch(e=>{y(!1),console.log("failed to load products. Error: "+e)})},[]);const P=e=>{if(null==o.loggedin.Username)h()({title:"Warning",text:"Please login first to buy product",icon:"warning",button:"ok"}),b.push("/clogin");else if("USER"!==o.loggedin.Role)h()({title:"Warning",text:"Please log-in to buy this product",icon:"warning",button:"ok"});else if(t=e.item,o.cart.findIndex(e=>e.item===t)<0){j(),O("none"),_("modal fade"),e.qty=d,p({type:"AddItem",payload:e});const t=[...o.cart,e];localStorage.setItem("cart",JSON.stringify(t)),h()({title:"Success",text:"Item added to cart successfully",icon:"success",button:"ok"})}else h()({title:"Warning",text:"Item already in cart",icon:"warning",button:"ok"});var t};return l.a.createElement("div",null,l.a.createElement(k,null),l.a.createElement("div",{className:"container-fluid",style:{width:"92%"}},l.a.createElement("div",{className:""},l.a.createElement("div",{className:"card-body"},f?l.a.createElement(w,null):l.a.createElement("div",{className:"row"},t&&t.filter(e=>e.image_url).map(e=>l.a.createElement(x,{key:e.item,x:e,showModal:j}))))),"block"===S&&l.a.createElement("div",null,l.a.createElement("div",{className:"modal-backdrop ".concat(N?"show":""),style:{zIndex:"999",display:S},onClick:C}),l.a.createElement("div",{className:"modal-container ".concat(N?"show":""),style:{zIndex:"1000",display:S}},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("button",{onClick:C,className:"close"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"payment-summary"},l.a.createElement("h4",null,"Product Summary"),l.a.createElement("h5",null,m.item),l.a.createElement("div",{className:"column-div"},l.a.createElement("div",{className:"product-info"},l.a.createElement("div",{className:"cart-info-name"},l.a.createElement("img",{src:m.image_url?m.image_url:"https://upload.wikimedia.org/wikipedia/commons/d/d1/Image_not_available.png",alt:"product_image",height:"200px"}))),l.a.createElement("div",{className:"product-details"},l.a.createElement("div",{className:"cart-info"},l.a.createElement("p",null,"Brand: "),l.a.createElement("p",null,m.class)),l.a.createElement("div",{className:"cart-info"},l.a.createElement("p",null,"Description: "),l.a.createElement("p",null,m.description_short)),l.a.createElement("div",{className:"cart-info"},l.a.createElement("p",null,"Stock: "),l.a.createElement("p",null,m.free_stock)),l.a.createElement("div",{className:"cart-info"},l.a.createElement("p",null,"Quantity: "),l.a.createElement("input",{className:"custom-input",type:"number",min:"1",max:m.free_stock,value:d,onChange:e=>u(e.target.value)})),l.a.createElement("div",{className:"cart-info total"},l.a.createElement("p",null,"Price:"),l.a.createElement("p",null,"\xa3 ",(m.retail_price*d).toFixed(2)))))),l.a.createElement("button",{className:"btn btn-danger mt-2",onClick:e=>P(m)},"Add to cart"))))))))},O=a(86),j=a.n(O),C=(a(124),a(125),a(32)),P=a(72);var I=function(){return l.a.createElement("div",{className:"top_nav"},l.a.createElement("div",{className:"row1"},l.a.createElement("div",{className:"helper-container"},l.a.createElement("div",{className:"top_nav_left"},l.a.createElement("a",{style:{color:"#b5aec4"},href:"https://pinevox.com/contact/",target:"_blank"},l.a.createElement(C.a,{icon:P.a}),l.a.createElement("span",null,"\xa0"),"Help")),l.a.createElement("span",null," | "),l.a.createElement("a",{className:"top_nav_left",href:"tel:+443301796233"},l.a.createElement(C.a,{icon:P.b,style:{color:"#b5aec4"}}),l.a.createElement("span",null,"\xa0\xa0"),"+44-330-179-6233"))))};const{Fragment:A}=a(0);var T=function(){const e=Object(v.c)(e=>e);return console.log("LoggedIn ",e.loggedin),console.log("Cart ",e.cart),l.a.createElement(A,null,l.a.createElement(I,null),l.a.createElement("nav",{className:"navbar navbar-expand-md shadow-sm position-sticky mx-md-auto custom-style"},l.a.createElement("a",{className:"navbar-brand px-3",href:"https://pinevox.com/"},l.a.createElement("img",{src:j.a,alt:"Company_logo",width:"50%",height:"50%"})),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"fa fa-bars"})),l.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent"},l.a.createElement(N,{isLoggedIn:e.loggedin.IsLoggedIn}))))};a(81);var L=e=>{let{currentStep:t}=e;const a=["Register","Services","Address","Confirmation"];return l.a.createElement("div",{className:"container m-2 pb-3"},l.a.createElement("div",{className:"progress",style:{height:"2px"}},l.a.createElement("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:"".concat((t-1)/(a.length-1)*100,"%")},"aria-valuenow":t/(a.length-1)*100,"aria-valuemin":"0","aria-valuemax":"100"})),l.a.createElement("div",{className:"d-flex justify-content-between mt-2"},a.map((e,a)=>l.a.createElement("div",{key:a,className:"text-center"},l.a.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center mb-1 ".concat(a<t?"bg-primary":"bg-secondary"),style:{width:"30px",height:"30px",margin:"0 auto",color:"white",fontWeight:"bold"}},a+1),l.a.createElement("div",{className:"small"},e)))))},F=a(94);var B=()=>{const e=Object(v.b)(),t=Object(g.useHistory)(),[a,r]=Object(n.useState)({firstName:"",lastName:"",userEmail:"",password:"",cpwd:"",phone:"",altPhone:"",businessName:""}),[c,m]=Object(n.useState)({}),[i,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)(!1),E=(e,t)=>{const n={...c},l=/^[a-zA-Z\s]+$/,r=/^\d{10}$/,s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,o=/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;switch(e){case"firstName":t&&l.test(t)?delete n.firstName:n.firstName="First name is required and should only contain letters";break;case"lastName":t&&l.test(t)?delete n.lastName:n.lastName="Last name is required and should only contain letters";break;case"phone":t&&r.test(t)?delete n.phone:n.phone="Phone number is required and should be in UK format";break;case"altPhone":t&&r.test(t)?delete n.altPhone:n.altPhone="Landline number is required and should be in UK format";break;case"userEmail":t&&s.test(t)?delete n.userEmail:n.userEmail="Valid email is required";break;case"businessName":t?delete n.businessName:n.businessName="Business Name is required";break;case"password":t&&o.test(t)?delete n.password:n.password="Password is required and should be at least 8 characters long, contain one capital letter, one special character, and one number",a.cpwd&&t!==a.cpwd?n.cpwd="Passwords do not match":delete n.cpwd;break;case"cpwd":t!==a.password?n.cpwd="Passwords do not match":delete n.cpwd}m(n)},b=e=>{const{name:t,value:a}=e.target;r(e=>({...e,[t]:a})),E(t,a)};return Object(n.useEffect)(()=>{i&&s.a.post("".concat("https://myaccount.pinevox.com","/api/v1/auth/register"),a).then(n=>{h()({title:"Success",text:"Thanks for registering!",icon:"success",button:"ok"});(async a=>{try{const n=await s.a.post("".concat("https://myaccount.pinevox.com","/api/v1/auth/login"),a),{accessToken:l,refreshToken:r}=n.data,c=1e3*Object(o.a)(l).exp;localStorage.setItem("access_token",l),localStorage.setItem("refresh_token",r),localStorage.setItem("expiry_time",c),e({type:"IsLoggedIn"}),t.push("/configuration")}catch(n){h()({title:"Error",text:"Customer not logged in",icon:"error",button:"ok"})}})({userEmail:a.userEmail,password:a.password}),(()=>{const e={firstName:a.firstName,lastName:a.lastName,userEmail:a.userEmail};F.a.send(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"https://myaccount.pinevox.com",REACT_APP_GOOGLE_KEY:"258500647366-jesetr6ivqqh8kje2nfgm05mdtjrbd91.apps.googleusercontent.com"}).EMAILJS_USER_ID,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"https://myaccount.pinevox.com",REACT_APP_GOOGLE_KEY:"258500647366-jesetr6ivqqh8kje2nfgm05mdtjrbd91.apps.googleusercontent.com"}).EMAILJS_TEMPLATE_ID,e,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"https://myaccount.pinevox.com",REACT_APP_GOOGLE_KEY:"258500647366-jesetr6ivqqh8kje2nfgm05mdtjrbd91.apps.googleusercontent.com"}).EMAILJS_PUBLIC_KEY).then(e=>{console.log("Email sent successfully!",e.status,e.text)},e=>{console.log("Failed to send email:",e),h()({title:"Error",text:"Failed to send confirmation email",icon:"error",button:"ok"})})})()}).catch(e=>{const t=e.response&&e.response.data&&e.response.data.message;t&&t.includes("Duplicate entry")?h()({title:"Error",text:"User with this email already exists",icon:"error",button:"ok"}):h()({title:"Error",text:"Customer not registered",icon:"error",button:"ok"})})},[i]),l.a.createElement("div",{className:"container container-form mt-5 d-flex flex-column"},l.a.createElement(L,{currentStep:1}),l.a.createElement("div",{className:"signup-card"},l.a.createElement("div",{className:"signup-header"},l.a.createElement("h1",{className:"signup-title"},"Drive success with seamless communication"),l.a.createElement("p",{className:"signup-subtitle"},"Please fill the details below to get started")),l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),Object.entries(a).forEach(e=>{let[t,a]=e;return E(t,a)}),0===Object.keys(c).length&&d(!0)},className:"signup-form px-5"},l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"First Name"),l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",value:a.firstName,onChange:b,placeholder:"First Name",required:!0}),c.firstName&&l.a.createElement("div",{className:"text-danger small mt-1 px-3"},c.firstName)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"Last Name"),l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("input",{type:"text",className:"form-control",id:"lastName",name:"lastName",value:a.lastName,onChange:b,placeholder:"Last Name",required:!0}),c.lastName&&l.a.createElement("div",{className:"text-danger small mt-1 px-3"},c.lastName))),l.a.createElement("div",{className:"d-flex flex-row"},l.a.createElement("div",{className:"col-md-6 mb-3"},l.a.createElement("div",{className:""},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"Mobile Number"),l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",style:{paddingTop:"0rem",paddingBottom:"0rem"},id:"basic-addon1"},"+44")),l.a.createElement("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:a.phone,onChange:b,placeholder:"Mobile Number","aria-label":"Mobile Number","aria-describedby":"basic-addon1",required:!0}))),c.phone&&l.a.createElement("div",{className:"text-danger small mt-1 px-3"},c.phone)),l.a.createElement("div",{className:"col-md-6 mb-3"},l.a.createElement("div",{className:""},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"Landline Number"),l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",style:{paddingTop:"0rem",paddingBottom:"0rem"},id:"basic-addon1"},"+44")),l.a.createElement("input",{type:"tel",className:"form-control",id:"altPhone",name:"altPhone",value:a.altPhone,onChange:b,placeholder:"Landline Number","aria-label":"Landline Number","aria-describedby":"basic-addon1",required:!0}))),c.altPhone&&l.a.createElement("div",{className:"text-danger small mt-1 px-3"},c.altPhone))),l.a.createElement("div",{className:"form-group px-3"},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"Email Address "),l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("input",{type:"email",id:"userEmail",name:"userEmail",value:a.userEmail,onChange:b,placeholder:"Email Address",required:!0}),c.userEmail&&l.a.createElement("span",{className:"error-message px-3"},c.userEmail)),l.a.createElement("div",{className:"form-group px-3"},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"Business Name"),l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("input",{type:"text",id:"businessName",name:"businessName",value:a.businessName,onChange:b,placeholder:"Business Name",required:!0}),c.businessName&&l.a.createElement("span",{className:"error-message px-3"},c.businessName)),l.a.createElement("div",{className:"form-group px-3"},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"Password"),l.a.createElement("span",{className:"text-danger"},"*"),l.a.createElement("span",{className:"info-button ml-2","data-toggle":"tooltip","data-placement":"top",title:"Password should be at least 8 characters long, contain one capital letter, one special character, and one number"},l.a.createElement("i",{className:"fa fa-info-circle"}))),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:u?"text":"password",id:"password",name:"password",value:a.password,onChange:b,placeholder:"Password",className:"form-control",style:{borderLeft:"ridge",borderLeftWidth:"thin",padding:"1.5rem",borderRadius:"6px 6px 0"},required:!0}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",style:{marginTop:"0px"},onClick:()=>{p(!u)}},l.a.createElement("i",{className:u?"fa fa-eye-slash":"fa fa-eye"})))),c.password&&l.a.createElement("span",{className:"error-message px-3"},c.password)),l.a.createElement("div",{className:"form-group px-3"},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"Confirm Password"),l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("input",{type:"password",id:"cpwd",name:"cpwd",value:a.cpwd,onChange:b,placeholder:"Confirm Password",required:!0}),c.cpwd&&l.a.createElement("span",{className:"error-message px-3"},c.cpwd)),l.a.createElement("div",{className:"d-flex flex-col justify-content-center"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg px-5 rounded-pill shadow-sm w-50",disabled:Object.keys(c).length>0},"Create Account")),l.a.createElement("p",{className:"terms-text"},"By signing up, you agree to Pinevox's ",l.a.createElement("a",{href:"https://pinevox.com/terms-of-service/"},"Terms of Service")," & ",l.a.createElement("a",{href:"https://pinevox.com/privacy-policy/"},"Privacy Policy")))))};var D=e=>{let t={};return e.userEmail||(t.userEmail="User id is required"),e.password||(t.password="Password is required"),t};a(171),a(169);var R=a(10),q=a(178),U=a(180),z=a(167),H=a(74),M=a(177),W=a(179),K=a(176),Y=a(175);var G=a(63),J=(a(127),a(89)),V=a.n(J);var $=function(){const e=Object(v.b)(),[t,a]=Object(n.useState)({userEmail:"",password:""}),[r,c]=Object(n.useState)({}),[m,i]=Object(n.useState)(!1),d=Object(g.useHistory)(),[u,p]=Object(n.useState)(!1),E=e=>{console.log("Input"),a({...t,[e.target.name]:e.target.value})};return Object(n.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("packageName")||"basic";localStorage.setItem("packageName",e)},[]),Object(n.useEffect)(()=>{0===Object.keys(r).length&&m&&s.a.post("".concat("https://myaccount.pinevox.com","/api/v1/auth/login"),t).then(t=>{const{accessToken:a,refreshToken:n,user:l}=t.data,r=1e3*Object(o.a)(a).exp;console.log(l),localStorage.setItem("access_token",a),localStorage.setItem("refresh_token",n),localStorage.setItem("expiry_time",r),e({type:"IsLoggedIn"});switch(l.status){case"remService":d.push("/configuration");break;case"remAddress":d.push("/address");break;case"remMandate":d.push("/billing");break;case"active":d.push("/cprofile");break;default:d.push("/register")}}).catch(e=>{console.log("Error",e),h()({title:"Error",text:"Invalid username or password",icon:"error",button:"ok"})})},[r,m,e,d]),l.a.createElement("div",{className:"container login-container"},l.a.createElement("div",{className:"row align-items-center"},l.a.createElement("div",{className:"col-md-6 d-none d-md-block"},l.a.createElement("img",{src:V.a,alt:"login",className:"img-fluid"})),l.a.createElement("div",{className:"col-md-6 login-form"},l.a.createElement("h2",{className:"text-center"},"Login to continue"),l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),c(D(t)),i(!0)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("span",{className:"text-danger"},"*"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"userEmail",placeholder:"Enter email",style:{borderLeft:"ridge",borderLeftWidth:"thin"},value:t.userEmail,onChange:E,required:!0}),r.userEmail&&l.a.createElement("small",{className:"text-danger float-right"},r.userEmail)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"userEmail",className:"form-label"},l.a.createElement("span",null,"Password"),l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("div",{className:"input-group",style:{borderLeft:"ridge",borderLeftWidth:"thin"}},l.a.createElement("input",{type:u?"text":"password",id:"password",name:"password",value:t.password,onChange:E,placeholder:"Password",required:!0,className:"form-control"}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",style:{marginTop:"0px"},onClick:()=>{p(!u)}},l.a.createElement("i",{className:u?"fa fa-eye-slash":"fa fa-eye"})))),r.password&&l.a.createElement("span",{className:"error-message px-3"},r.password)),l.a.createElement("div",{className:"links"},l.a.createElement("a",{href:"/forgotPassword",className:"btn btn-link p-0"},"Forgot Password?")),l.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"LOGIN")),l.a.createElement("p",{className:"text-center mt-3"},"or sign up using"),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(G.a,{onSuccess:t=>{const{credential:a}=t;s.a.post("".concat("https://myaccount.pinevox.com","/api/v1/auth/google-authenticate"),{token:a}).then(t=>{const{access_token:a,refresh_token:n}=t.data,l=1e3*Object(o.a)(a).exp;localStorage.setItem("access_token",a),localStorage.setItem("refresh_token",n),localStorage.setItem("expiry_time",l),e({type:"IsLoggedIn"}),d.push("/cprofile")}).catch(e=>{console.log("Error",e),h()({title:"Error",text:"Google login failed",icon:"error",button:"ok"})})},onError:()=>{console.log("Google login failed"),h()({title:"Error",text:"Google login failed",icon:"error",button:"ok"})}})),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("a",{href:"/register",className:"btn btn-link p-0"},"Don't have an account? Sign up")))))};var Q=function(){const e=sessionStorage.getItem("id"),[t,a]=Object(n.useState)([]);Object(n.useEffect)(()=>{E.get("/api/products?sellerid="+e).then(e=>{console.log(e.data),a(e.data.data),console.log(t)})},[]);const r=Object(R.a)(z.a)(e=>{let{theme:t}=e;return{["&.".concat(H.a.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(H.a.body)]:{fontSize:14}}}),c=Object(R.a)(K.a)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card shadow bg-transparent text-white"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",null,"My Products"),l.a.createElement(M.a,{component:Y.a},l.a.createElement(q.a,{sx:{minWidth:700},"aria-label":"customized table"},l.a.createElement(W.a,null,l.a.createElement(K.a,null,l.a.createElement(r,{align:"center"},"Name"),l.a.createElement(r,{align:"center"},"Category"),l.a.createElement(r,{align:"center"},"Sub Category"),l.a.createElement(r,{align:"center"},"Brand Name"),l.a.createElement(r,{align:"center"},"Price"),l.a.createElement(r,{align:"center"},"Action"))),l.a.createElement(U.a,null,t.map(n=>l.a.createElement(c,{key:n.prodid},l.a.createElement(r,{align:"center"},l.a.createElement("img",{width:"100",src:"".concat("https://myaccount.pinevox.com")+n.photo,className:"img-thumnail mr-3"}),n.pname),l.a.createElement(r,{align:"center"},n.pcat),l.a.createElement(r,{align:"center"},n.subcat),l.a.createElement(r,{align:"center"},n.brand),l.a.createElement(r,{align:"center"},"\u20b9 ",n.price),l.a.createElement(r,{align:"center"},l.a.createElement(f.b,{to:"/edit/"+n.prodid,className:"btn btn-dark btn-sm mr-2"},"Edit"),l.a.createElement("button",{onClick:()=>{return l=n.prodid,void h()({title:"Delete product",text:"Are you sure to delete this product ?",icon:"warning",buttons:!0,dangerMode:!0}).then(n=>{n?E.delete("/api/products/"+l).then(n=>{h()({title:"Success",text:"Product deleted successfully",icon:"success",button:"ok"}),E.get("/api/products?sellerid="+e).then(e=>{console.log(e.data),a(e.data.data),console.log(t)})}):h()("Product is not deleted!")});var l},className:"btn btn-danger btn-sm"},"Delete"))))))))))};a(128);var Z=function(){const e=Object(v.c)(e=>e),[t,a]=Object(n.useState)({name:"",phone:"",altPhone:"",businessName:"",userEmail:"",companyAddress:"",billingAddress:""}),r=localStorage.getItem("access_token"),c={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}};return Object(n.useEffect)(()=>{E.get("/api/v1/user",c).then(e=>{console.log(e),a({name:[e.data.firstName,e.data.lastName].join(" "),phone:e.data.phone,altPhone:e.data.altPhone,businessName:e.data.businessName,userEmail:e.data.userEmail})}).then(E.get("/api/v1/address",c).then(e=>{var t,n,l,r,c,s,o,m,i,d,u,p,E,g;console.log(e),a({companyAddress:[null===(t=e.data.company_address)||void 0===t?void 0:t.line_1,null===(n=e.data.company_address)||void 0===n?void 0:n.line_2,null===(l=e.data.company_address)||void 0===l?void 0:l.city,null===(r=e.data.company_address)||void 0===r?void 0:r.district,null===(c=e.data.company_address)||void 0===c?void 0:c.county,null===(s=e.data.company_address)||void 0===s?void 0:s.country,null===(o=e.data.company_address)||void 0===o?void 0:o.post_code].filter(Boolean).join(", ")||"",billingAddress:[null===(m=e.data.billing_address)||void 0===m?void 0:m.line_1,null===(i=e.data.billing_address)||void 0===i?void 0:i.line_2,null===(d=e.data.billing_address)||void 0===d?void 0:d.city,null===(u=e.data.billing_address)||void 0===u?void 0:u.district,null===(p=e.data.billing_address)||void 0===p?void 0:p.county,null===(E=e.data.billing_address)||void 0===E?void 0:E.country,null===(g=e.data.billing_address)||void 0===g?void 0:g.post_code].filter(Boolean).join(", ")||""})})).catch(e=>{console.log("Error",e)})},[e.loggedin.UserEmail]),l.a.createElement("div",{className:"d-flex flex-column row card shadow p-4 vh-100 w-100"},l.a.createElement("div",{id:"Profile",className:"overflow-auto"},l.a.createElement("h2",{className:"mb-4"},"Account Information"),l.a.createElement("hr",null),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"customerName",className:"form-label"},"Customer Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"customerName",value:t.name,readOnly:!0})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"businessName",className:"form-label"},"Business Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"businessName",value:t.businessName,readOnly:!0})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"email",className:"form-label"},"Email Id"),l.a.createElement("input",{type:"email",className:"form-control",id:"email",value:t.userEmail,readOnly:!0})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"phone",className:"form-label"},"Phone Number"),l.a.createElement("input",{type:"text",className:"form-control",id:"phone",value:t.phone,readOnly:!0})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"altPhone",className:"form-label"},"Alternate Phone Number"),l.a.createElement("input",{type:"text",className:"form-control",id:"altPhone",value:t.altPhone,readOnly:!0})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"companyAddress",className:"form-label"},"Company Address"),l.a.createElement("textarea",{className:"form-control",id:"companyAddress",rows:"3",value:t.companyAddress,readOnly:!0})),l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("label",{htmlFor:"billingAddress",className:"form-label"},"Billing Address"),l.a.createElement("textarea",{className:"form-control",id:"billingAddress",rows:"3",value:t.billingAddress,readOnly:!0})))))};a(129);var X=function(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)([]),[c,s]=Object(n.useState)(null),[o,m]=Object(n.useState)(!1),i=localStorage.getItem("access_token"),d={headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}};return Object(n.useEffect)(()=>{E.get("/api/v1/order",d).then(e=>{console.log(e.data),t(e.data.orders)}).catch(e=>{console.error("Error fetching order details:",e)})},[]),l.a.createElement("div",{className:"card shadow p-4 vh-100 w-100"},l.a.createElement("h2",{className:"mb-4"},"Order History"),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Order ID"),l.a.createElement("th",null,"Order Date"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Payment Status"),l.a.createElement("th",null,"Receipt"))),l.a.createElement("tbody",null,e.map((e,t)=>l.a.createElement("tr",{key:t+1},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.createdAt.split("T")[0]),l.a.createElement("td",null,e.totalAmount.toFixed(2)),l.a.createElement("td",null,e.paymentStatus),l.a.createElement("td",null,e.receipt?l.a.createElement("a",{href:e.receipt,target:"_blank",rel:"noopener noreferrer"},"Show Receipt"):"No receipt available yet...")))))))};a(83);var ee=()=>{const[e,t]=Object(n.useState)(!1),a=Object(v.c)(e=>e),[r,c]=Object(n.useState)({}),[s,o]=Object(n.useState)(0),[m,i]=Object(n.useState)({}),d=localStorage.getItem("access_token"),u={headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"}},p=()=>{const e=40*r.pstnCost+33*r.adslCost+5*r.callRecordingCost+35*r.annexRental+5*r.faxToEmailCost;o(e)};return Object(n.useEffect)(()=>{E.get("/api/v1/services",u).then(e=>{console.log(e.data),c(e.data.service),p()}).catch(e=>{h()({title:"Error",text:e.message,icon:"error",button:"ok"})})},[a.loggedin.UserEmail]),Object(n.useEffect)(()=>{p()},[r]),l.a.createElement("div",{className:"card shadow p-4 vh-100 w-100"},l.a.createElement("h2",{className:"mb-4"},"Billing Details"),l.a.createElement("hr",null),l.a.createElement("div",null))};var te=function(){const[e,t]=Object(n.useState)("ProfileSection");return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2 col-12 border-end d-flex flex-column justify-content-start align-items-start px-3 py-4"},l.a.createElement("div",{className:"nav flex-column nav-pills w-100"},l.a.createElement("button",{className:"nav-link text-start ".concat("ProfileSection"===e?"active":""),onClick:()=>t("ProfileSection")},l.a.createElement("i",{className:"fw-bold me-2"}),"Account Details",l.a.createElement("small",{className:"d-block text-black d-none d-md-block"},"Manage your account details")),l.a.createElement("button",{className:"nav-link text-start ".concat("MyOrders"===e?"active":""),onClick:()=>t("MyOrders")},l.a.createElement("i",{className:"me-2"}),"Handset Order History",l.a.createElement("small",{className:"d-block text-black d-none d-md-block"},"Track your past purchases")),l.a.createElement("button",{className:"nav-link text-start ".concat("BillingSection"===e?"active":""),onClick:()=>t("BillingSection")},l.a.createElement("i",{className:"me-2"}),"Billing Details",l.a.createElement("small",{className:"d-block text-black d-none d-md-block"},"Manage your bills")))),l.a.createElement("div",{className:"col-md-10 col-12"},(()=>{switch(e){case"ProfileSection":return l.a.createElement(Z,null);case"MyOrders":return l.a.createElement(X,null);case"BillingSection":return l.a.createElement(ee,null);default:return l.a.createElement(Z,null)}})())))},ae=a(90),ne=a.n(ae);var le=function(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)(!1),[c,s]=Object(n.useState)([]);Object(n.useEffect)(()=>{E.get("/api/orders").then(e=>{console.log(e.data),t(e.data.data)})},[]);const o=Object(R.a)(z.a)(e=>{let{theme:t}=e;return{["&.".concat(H.a.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(H.a.body)]:{fontSize:14}}}),m=Object(R.a)(K.a)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("h4",{className:"p-2 text-center text-white"},"Orders"),l.a.createElement(M.a,{component:Y.a},l.a.createElement(q.a,{sx:{minWidth:700},"aria-label":"customized table"},l.a.createElement(W.a,null,l.a.createElement(K.a,null,l.a.createElement(o,{align:"center"},"Id"),l.a.createElement(o,{align:"center"},"Order Date"),l.a.createElement(o,{align:"center"},"Amount"),l.a.createElement(o,{align:"center"},"Customer"),l.a.createElement(o,{align:"center"},"Action"))),l.a.createElement(U.a,null,e.map(e=>l.a.createElement(m,{key:e.orderid},l.a.createElement(o,{align:"center"},e.orderid),l.a.createElement(o,{align:"center"},l.a.createElement(ne.a,{format:"ddd, DD-MMM-YYYY"},e.orderDate)),l.a.createElement(o,{align:"center"},"\u20b9 ",e.payment.amount),l.a.createElement(o,{align:"center"},e.customer.name),l.a.createElement(o,{align:"center"},l.a.createElement("button",{onClick:t=>{return a=e.orderid,E.get("/api/orders/"+a).then(e=>{console.log(e.data),s(e.data.data.details)}),void r(!0);var a},className:"btn btn-dark btn-sm"},"Show Details")))))))),l.a.createElement("div",{className:"col-sm-6"},a?l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",{className:"p-2 text-center text-white"},"Order Details"),l.a.createElement(M.a,{component:Y.a},l.a.createElement(q.a,{sx:{minWidth:700},"aria-label":"customized table"},l.a.createElement(W.a,null,l.a.createElement(K.a,null,l.a.createElement(o,{align:"center"},"Id"),l.a.createElement(o,{align:"center"},"Photo"),l.a.createElement(o,{align:"center"},"Product"),l.a.createElement(o,{align:"center"},"Price"),l.a.createElement(o,{align:"center"},"Quantity"))),l.a.createElement(U.a,null,c.map(e=>l.a.createElement(m,{key:e.product.prodid},l.a.createElement(o,{align:"center"},e.product.prodid),l.a.createElement(o,{align:"center"},l.a.createElement("img",{src:"".concat("https://myaccount.pinevox.com","/")+e.product.photo,width:"80"})),l.a.createElement(o,{align:"center"},l.a.createElement("h5",null,e.product.pname),"Category: ",e.product.pcat,l.a.createElement("br",null),"Brand: ",e.product.brand,l.a.createElement("br",null)),l.a.createElement(o,{align:"center"},"\u20b9 ",e.product.price),l.a.createElement(o,{align:"center"},e.qty))))))):"")))},re=a(170),ce=a(173);a(132);const se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};Object(R.a)(z.a)(e=>{let{theme:t}=e;return{["&.".concat(H.a.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(H.a.body)]:{fontSize:14}}}),Object(R.a)(K.a)(e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});var oe=function(){const e=Object(v.c)(e=>e),t=Object(v.b)(),[a,r]=(Object(g.useHistory)(),Object(n.useState)(!1)),[c,s]=Object(n.useState)(""),[o,m]=Object(n.useState)({amount:e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0)}),[i,d]=Object(n.useState)({companyAddress:"",billingAddress:"",deliveryAddress:""}),[u,p]=Object(n.useState)("company"),b=e=>{p(e.target.value)},f=localStorage.getItem("access_token"),y={headers:{Authorization:"Bearer ".concat(f),"Content-Type":"application/json"}};return Object(n.useEffect)(()=>{E.get("/api/v1/user",y).then(e=>{console.log(e),d({name:[e.data.firstName,e.data.lastName].join(" "),phone:e.data.phone,altPhone:e.data.altPhone,businessName:e.data.businessName,userEmail:e.data.userEmail})}).then(E.get("/api/v1/address",y).then(e=>{var t,a,n,l,r,c,s,o,m,i,u,p,E,g,b,h,v,f,y,N,x;console.log(e),d({companyAddress:[null===(t=e.data.company_address)||void 0===t?void 0:t.line_1,null===(a=e.data.company_address)||void 0===a?void 0:a.line_2,null===(n=e.data.company_address)||void 0===n?void 0:n.city,null===(l=e.data.company_address)||void 0===l?void 0:l.district,null===(r=e.data.company_address)||void 0===r?void 0:r.county,null===(c=e.data.company_address)||void 0===c?void 0:c.country,null===(s=e.data.company_address)||void 0===s?void 0:s.post_code].filter(Boolean).join(", ")||"",deliveryAddress:[null===(o=e.data.delivery_address)||void 0===o?void 0:o.line_1,null===(m=e.data.delivery_address)||void 0===m?void 0:m.line_2,null===(i=e.data.delivery_address)||void 0===i?void 0:i.city,null===(u=e.data.delivery_address)||void 0===u?void 0:u.district,null===(p=e.data.delivery_address)||void 0===p?void 0:p.county,null===(E=e.data.delivery_address)||void 0===E?void 0:E.country,null===(g=e.data.delivery_address)||void 0===g?void 0:g.post_code].filter(Boolean).join(", ")||"",billingAddress:[null===(b=e.data.billing_address)||void 0===b?void 0:b.line_1,null===(h=e.data.billing_address)||void 0===h?void 0:h.line_2,null===(v=e.data.billing_address)||void 0===v?void 0:v.city,null===(f=e.data.billing_address)||void 0===f?void 0:f.district,null===(y=e.data.billing_address)||void 0===y?void 0:y.county,null===(N=e.data.billing_address)||void 0===N?void 0:N.country,null===(x=e.data.billing_address)||void 0===x?void 0:x.post_code].filter(Boolean).join(", ")||""})})).catch(e=>{console.log("Error",e)})},[e.loggedin.UserEmail]),Object(n.useEffect)(()=>{let t=e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0);m({amount:t})},[e.cart]),l.a.createElement("div",{className:"container-fluid bg-light py-5"},l.a.createElement("div",{className:"card shadow-lg border-0 rounded-lg "},l.a.createElement("div",{className:"card-header text-black"},l.a.createElement("h3",{className:"mb-0 text-center"},"Your Shopping Cart")),l.a.createElement("div",{className:"card-body"},e.cart.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",{className:"bg-primary text-white"},l.a.createElement("tr",null,l.a.createElement("th",null,"Product Id"),l.a.createElement("th",null,"Product Photo"),l.a.createElement("th",null,"Product Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Quantity"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,e.cart.map(a=>l.a.createElement("tr",{key:a.item},l.a.createElement("td",null,a.item),l.a.createElement("td",null,l.a.createElement("img",{className:"img-fluid product-image",src:a.image_url||"https://upload.wikimedia.org/wikipedia/commons/d/d1/Image_not_available.png",alt:"product"})),l.a.createElement("td",null,a.item),l.a.createElement("td",null,"\xa3 ",parseInt(a.retail_price)),l.a.createElement("td",null,a.qty),l.a.createElement("td",null,"\xa3 ",a.qty*parseInt(a.retail_price)),l.a.createElement("td",null,l.a.createElement("button",{onClick:()=>(a=>{h()({title:"Delete item",text:"Are you sure to delete this item?",icon:"warning",buttons:!0,dangerMode:!0}).then(n=>{if(n){t({type:"RemoveItem",payload:a});let n=e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0);m({...o,amount:n}),h()("Item has been deleted!",{icon:"success"})}else h()("Item is not deleted!")})})(a),className:"btn btn-outline-danger btn-sm"},"Remove"))))),l.a.createElement("tfoot",null,l.a.createElement("tr",{className:"bg-light"},l.a.createElement("td",{colSpan:"5",className:"text-end"},l.a.createElement("strong",null,"Total Amount")),l.a.createElement("td",{colSpan:"2"},l.a.createElement("strong",null,"\xa3 ",e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0)))))),l.a.createElement("span",null,l.a.createElement("span",{className:"text-danger"},"*"),"The total payable amount will include a 20% VAT.")),l.a.createElement("div",{className:"text-center mt-4"},l.a.createElement("button",{onClick:()=>r(!0),className:"btn btn-primary btn-lg"},"Enter Address and Place Order"))):l.a.createElement("div",{className:"text-center py-5"},l.a.createElement("h4",{className:"text-muted"},"Your Cart is Empty")))),l.a.createElement(re.a,{open:a,onClose:()=>r(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},l.a.createElement(ce.a,{sx:se,className:"bg-white p-4 rounded-lg shadow-lg",style:{width:"100%",maxWidth:"500px",margin:"20px auto",overflowY:"auto",maxHeight:"90vh"}},l.a.createElement("h3",{className:"text-center mb-4 font-weight-bold"},"Choose Address for Delivery"),l.a.createElement("form",{onSubmit:t=>{t.preventDefault();let a=e.cart.reduce((e,t)=>e+parseInt(t.retail_price)*parseInt(t.qty),0);m({amount:a});const n="company"===u?i.companyAddress:"billing"===u?i.billingAddress:"delivery"===u?i.deliveryAddress:c;console.log("Selected delivery address:",n);let l={cart:e.cart,address:n};const r=localStorage.getItem("access_token"),s={headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}};console.log(l),console.log(e.cart),E.post("api/v1/order",l,s).then(e=>{window.location.href=e.data.sessionUrl,console.log("redirected")}).catch(e=>{console.error("Error placing order:",e),h()({title:"Error",text:"Failed to place order. Please try again later.",icon:"error",button:"Ok"})})}},["company","billing","delivery"].map(e=>l.a.createElement("div",{key:e,className:"mb-4"},l.a.createElement("div",{className:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"".concat(e,"Address"),name:"deliveryAddress",className:"custom-control-input",checked:u===e,onChange:b,value:e}),l.a.createElement("label",{className:"custom-control-label font-weight-bold",htmlFor:"".concat(e,"Address")},e.charAt(0).toUpperCase()+e.slice(1)," Address")),l.a.createElement("div",{className:"mt-2 p-3 bg-light rounded shadow-sm"},l.a.createElement("small",null,i["".concat(e,"Address")])))),l.a.createElement("div",{className:"mb-4"},l.a.createElement("div",{className:"custom-control custom-radio"},l.a.createElement("input",{type:"radio",id:"newAddress",name:"deliveryAddress",className:"custom-control-input",checked:"new"===u,onChange:b,value:"new"}),l.a.createElement("label",{className:"custom-control-label font-weight-bold",htmlFor:"newAddress"},"Use a different address")),"new"===u&&l.a.createElement("textarea",{className:"form-control mt-2",rows:"3",placeholder:"Enter your new delivery address here",value:c,onChange:e=>s(e.target.value),style:{width:"100%",boxSizing:"border-box"}})),l.a.createElement("div",{className:"text-center mt-4"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block py-2"},"Proceed to Checkout"))))))},me=a(50);var ie=()=>{const[e,t]=Object(n.useState)({userEmail:""}),a=Object(g.useHistory)();return l.a.createElement("div",{className:"container d-flex justify-content-center align-items-center vh-100"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 d-flex justify-content-center align-items-center"},l.a.createElement("img",{className:"bg-light",style:{width:"600px",height:"800px"}})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"card p-4"},l.a.createElement("h2",{className:"text-center mb-4"},"Forgot Password"),l.a.createElement("form",{onSubmit:t=>{t.preventDefault(),s.a.post("".concat("https://myaccount.pinevox.com","/api/v1/auth/forgot-password"),e).then(e=>{console.log(e),JSON.stringify(e),h()({title:"Success",text:"Password is successfully sent to your email address",icon:"success",button:"OK"}).then(()=>{a.push("/clogin")})}).catch(e=>{console.log(e.response),h()({title:"Error",text:"Please enter a correct email address",icon:"error",button:"OK"}).then(()=>{a.push("/forgotPassword")})})}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",name:"userEmail",value:e.userEmail,onChange:a=>{const n=a.target.value;t({...e,[a.target.name]:n})},className:"form-control mt-1",placeholder:"Please Enter Your Email",required:!0})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mt-4"},"Reset Password"),l.a.createElement("div",{className:"text-center mt-3"},l.a.createElement(me.Link,{to:"/clogin"},"Back to Login")))))))},de=a(45),ue=a(91),pe=a.n(ue);var Ee=()=>l.a.createElement("div",{className:"w-100"},l.a.createElement("footer",{className:"mt-3",style:{backgroundColor:"#2c2f54",color:"#ffffff"}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("a",{href:"https://pinevox.com/",style:{display:"flex",alignItems:"center",marginBottom:"10px"}},l.a.createElement("img",{src:pe.a,alt:"PineVox",style:{height:"60px"}})),l.a.createElement("p",null,"Your all weather communication partner"),l.a.createElement("div",{className:"mt-2 pb-3 pb-md-0"},l.a.createElement("a",{href:"https://www.facebook.com/people/PineVox/100093473274083/",className:"text-white mr-4"},l.a.createElement(C.a,{icon:de.a})),l.a.createElement("a",{href:"https://twitter.com/pinevox",className:"text-white mr-4"},l.a.createElement(C.a,{icon:de.d})),l.a.createElement("a",{href:"https://www.youtube.com/@pinevox",className:"text-white mr-4"},l.a.createElement(C.a,{icon:de.e})),l.a.createElement("a",{href:"https://www.instagram.com/pinevox?r=nametag",className:"text-white mr-4"},l.a.createElement(C.a,{icon:de.b})),l.a.createElement("a",{href:"https://www.linkedin.com/company/pinevox/",className:"text-white mr-4"},l.a.createElement(C.a,{icon:de.c})))),l.a.createElement("div",{className:"col-md-6 text-md-right"},l.a.createElement("h5",{className:"pt-3 d-none d-md-block"},"Get in Touch"),l.a.createElement("a",{href:"https://maps.app.goo.gl/geFbcYcvkNkE8akP6",className:"text-white d-block d-md-inline-block mb-md-2"},"Havelock Hub, 14 Havelock Place, Harrow, London HA1 1LJ"),l.a.createElement("p",{className:"mb-md-2 mb-md-0"},"+44 330 179 6233"),l.a.createElement("a",{href:"mailto:hello@pinevox.com",style:{color:"#ffffff"}},"hello@pinevox.com"))),l.a.createElement("div",{className:"text-center mt-3 pb-3"},l.a.createElement("p",null," 2024 PineVox | ",l.a.createElement("a",{href:"https://pinevox.com/privacy-policy/",style:{color:"#ffffff"}},"Privacy Policy"))))));var ge=()=>{const e="CvmjTpTwWUedB8nNMCKxXQ43497",[t,a]=Object(n.useState)("Basic"),[r,c]=Object(n.useState)({company_address:{post_code:""},billing_address:{post_code:""},delivery_address:{post_code:""}}),[o,m]=Object(n.useState)({company_address:[],billing_address:[],delivery_address:[]}),[i,d]=Object(n.useState)({company_address:!1,billing_address:!1,delivery_address:!1}),[u,p]=Object(n.useState)(!1),[b,v]=Object(n.useState)(3),[f,y]=Object(n.useState)(!1),[N,x]=Object(n.useState)(!1),k=Object(g.useHistory)(),_=(e,t)=>{const{value:a}=e.target;c(e=>({...e,[t]:{...e[t],post_code:a}})),a.length>2?S(a,t):m(e=>({...e,[t]:[]}))},w=async(t,a)=>{const{id:n}=t,l="https://api.getAddress.io/get/".concat(n,"?api-key=").concat(e);try{const e=(await s.a.get(l)).data;c(t=>({...t,[a]:{line_1:e.line_1,line_2:e.line_2||"",city:e.town_or_city,district:e.county,county:e.county,country:e.country,post_code:e.postcode}})),m(e=>({...e,[a]:[]})),d(e=>({...e,[a]:!0}))}catch(r){console.error("Error fetching address details:",r)}},S=(t,a)=>{const n="https://api.getAddress.io/autocomplete/".concat(t,"?api-key=").concat(e);s.a.get(n).then(e=>{m(t=>({...t,[a]:e.data.suggestions}))}).catch(e=>console.error("Error:",e))};Object(n.useEffect)(()=>{u&&r&&E.post("api/v1/address",{address:r}).then(()=>{h()({title:"Success",text:"Address added successfully",icon:"success",button:"OK"}),k.push("/billing")}).catch(e=>{console.error("API call error:",e),h()({title:"Error",text:e.message,icon:"error",button:"OK"})}).finally(()=>{p(!1)})},[u,r,k]);const O=(e,t)=>{c(t?t=>({...t,[e]:{...t.company_address}}):t=>({...t,[e]:{post_code:"",line_1:"",line_2:"",city:"",district:"",county:"",country:""}}))},j=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};return l.a.createElement("div",{className:"card mb-3",style:{borderRadius:"1rem"}},l.a.createElement("div",{className:"card-header text-white",style:{backgroundColor:"#3e97f7",borderRadius:"1rem"},onClick:()=>d(t=>({...t,[e]:!t[e]}))},l.a.createElement("h5",{className:"mb-0 d-flex justify-content-between align-items-center"},t,l.a.createElement("span",null,i[e]?"\u25b2":"\u25bc"))),l.a.createElement("div",{className:"card-body ".concat(i[e]?"show":"collapse")},a&&l.a.createElement("div",{className:"form-check form-check-inline",style:{paddingBottom:"1rem"}},l.a.createElement("input",{className:"form-check-input",style:{width:"1rem"},type:"checkbox",name:"copy-".concat(e),id:"copy-".concat(e),checked:n,onChange:t=>{const a=t.target.checked;s(a),O(e,a)}}),l.a.createElement("label",{className:"form-check-label",htmlFor:"copy-".concat(e)},"Same as Company Address")),l.a.createElement("div",{className:"form-group position-relative"},l.a.createElement("label",null,"Postcode",l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("input",{type:"text",className:"form-control",value:r[e].post_code,onChange:t=>_(t,e),required:!0}),o[e].length>0&&l.a.createElement("ul",{className:"list-group position-absolute w-100",style:{zIndex:99}},o[e].map((t,a)=>l.a.createElement("li",{key:a,className:"list-group-item list-group-item-action",style:{backgroundColor:"#e6e8eb"},onClick:()=>w(t,e)},t.address)))),i[e]&&l.a.createElement(l.a.Fragment,null,["line_1","line_2","city","district","county","country"].map(t=>l.a.createElement("div",{className:"form-group",key:t},l.a.createElement("label",null,"line_1"===t?"Address Line 1":"line_2"===t?"Address Line 2":t.replace("_"," ").charAt(0).toUpperCase()+t.slice(1),"line_2"!==t&&l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("input",{type:"text",className:"form-control",value:r[e][t]||"",onChange:a=>c(n=>({...n,[e]:{...n[e],[t]:a.target.value}})),required:"line_2"!==t}))))))};return l.a.createElement("div",{className:"container py-5"},l.a.createElement(L,{currentStep:b}),l.a.createElement("div",{className:"card shadow"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"mb-4 border-bottom pb-2 d-flex justify-content-between"},l.a.createElement("h4",null,"Please fill the address details below"),l.a.createElement("h4",null,"Selected plan: ",l.a.createElement("span",{className:""},t))),l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),p(!0)}},j("company_address","Company Address"),j("billing_address","Billing Address",!0,f,y),j("delivery_address","Delivery Address",!0,N,x),l.a.createElement("div",{className:"text-center mt-4"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg px-4 rounded-pill shadow-sm me-0 me-md-3 w-100 w-md-auto"},"Proceed"))))))};var be=()=>{const e=Object(g.useHistory)(),[t,a]=(Object(v.c)(e=>e),Object(n.useState)(0)),[r,c]=Object(n.useState)(!1),[s,o]=Object(n.useState)(!1),[m,i]=Object(n.useState)("Basic"),[d,u]=Object(n.useState)(2),[p,b]=Object(n.useState)({userCount:0,pstnCost:0,adslCost:0,callRecordingCost:0,annexRental:0,faxToEmailCost:0,newNumber:r});return Object(n.useEffect)(()=>{s?(console.log("Making API call with user data:",p),E.post("api/v1/services",p).then(t=>{e.push("/address")}).catch(e=>{console.error("API call error:",e),h()({title:"Error",text:e.message,icon:"error",button:"ok"})}).finally(()=>{o(!1)})):console.log("Errors detected, not making API call")},[p,e]),l.a.createElement("div",{className:"container py-5"},l.a.createElement(L,{currentStep:d}),l.a.createElement("div",{className:"card shadow"},l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),b(e=>({...e,userCount:t})),o(!0)}},l.a.createElement("div",{className:"mb-4 border-bottom pb-2 d-flex flex-column flex-md-row justify-content-between"},l.a.createElement("h4",{className:"mb-2 mb-md-0"},"Please fill the following details"),l.a.createElement("h4",{className:"mb-2 mb-md-0"},"Selected plan: ",l.a.createElement("span",null,m))),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-6 mb-3 mb-md-0"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"userCount",className:"form-label"},"Number of Users: ",l.a.createElement("span",{className:"text-danger"},"*")),l.a.createElement("input",{type:"number",min:"1",id:"userCount",className:"form-control form-control-sm",value:t,onChange:e=>a(parseInt(e.target.value)),required:!0}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{className:"form-label"},"Existing Number:"),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{type:"radio",id:"existingYes",className:"form-check-input",name:"existingNumber",checked:r,onChange:()=>c(!0)}),l.a.createElement("label",{className:"form-check-label",htmlFor:"existingYes"},"Keep Existing Number")),l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{type:"radio",id:"existingNo",className:"form-check-input",name:"existingNumber",checked:!r,onChange:()=>c(!1)}),l.a.createElement("label",{className:"form-check-label",htmlFor:"existingNo"},"Need New Number"))))),l.a.createElement("div",{className:"text-center mt-4"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg px-4 rounded-pill shadow-sm me-0 me-md-3 w-100 w-md-auto"},"Proceed to Address Details"))))))};var he=e=>{let{component:t,path:a,...n}=e;const r=Object(v.c)(e=>e),c=r.loggedin.IsLoggedIn;return console.log("LoggedIn ",r.loggedin.IsLoggedIn),l.a.createElement(g.Route,Object.assign({},n,{component:e=>c?l.a.createElement("div",{className:"main-container"},l.a.createElement(t,Object.assign({},e,{path:a}))):l.a.createElement(g.Redirect,{to:"/clogin"})}))};var ve=()=>{const[e,t]=Object(n.useState)(!1),a=Object(v.c)(e=>e),[r,c]=Object(n.useState)({}),[o,m]=Object(n.useState)(0),[i,d]=Object(n.useState)({}),[u,p]=Object(n.useState)(4),[g,b]=Object(n.useState)({}),[f,y]=Object(n.useState)(25),[N,x]=Object(n.useState)(0),[k,_]=Object(n.useState)(""),[w,S]=Object(n.useState)(null);Object(n.useEffect)(()=>{C()},[r,w,g]);const O=localStorage.getItem("access_token"),j={headers:{Authorization:"Bearer ".concat(O),"Content-Type":"application/json"}},C=()=>{console.log("Calculating total cost..."),console.log("Services:",r),console.log("Selected Plan:",g),console.log("Selected Coupon:",w);let e=r.userCount&&g.cost?g.cost*r.userCount:0;e=Number(e.toFixed(2));let t=r.userCount?25*r.userCount:0;t=Number(t.toFixed(2)),console.log("Initial calculations:",{planCost:e,temp:t}),w&&(w.activationDiscount&&(t=Number((t-t*w.activationDiscount/100).toFixed(2))),w.monthlyDiscount&&(e=Number((e-e*w.monthlyDiscount/100).toFixed(2)))),console.log("After coupon application:",{planCost:e,temp:t});let a=(1.2*(0+e+t)).toFixed(2);a=Number(a),console.log("Final calculations:",{monthlyServices:0,planCost:e,temp:t,total:a}),x(e),y(t),m(a)},P=()=>{E.get("/api/v1/address",j).then(e=>{console.log(e.data),d(e.data),(()=>{const e=localStorage.getItem("packageName")||"basic";e?s.a.get("".concat("https://myaccount.pinevox.com","/api/v1/products/get-package?packageName=").concat(e)).then(e=>{b({name:e.data.packageName,cost:e.data.cost.toFixed(2)}),console.log(e.data)}).catch(e=>{h()({title:"Error",text:"Error fetching package details: ".concat(e.message),icon:"error",button:"ok"})}):h()({title:"Error",text:"Please select the package first",icon:"error",button:"ok"})})()}).catch(e=>{h()({title:"Error",text:"Error fetching address: ".concat(+e.message),icon:"error",button:"ok"})})};Object(n.useEffect)(()=>{E.get("/api/v1/services",j).then(e=>{console.log(e.data),c(e.data.service),P()}).catch(e=>{h()({title:"Error",text:"Error fetching services: ".concat(+e.message),icon:"error",button:"ok"})})},[a.loggedin.UserEmail]);return l.a.createElement("div",{className:"container py-5 d-flex flex-column"},l.a.createElement(L,{currentStep:u}),l.a.createElement("div",{className:"card shadow"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("h4",{className:"mb-4 border-bottom pb-2"},"Service Details"),l.a.createElement("div",{className:"table-responsive mb-4"},l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",{className:"table-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Service"),l.a.createElement("th",null,"Number of users"),l.a.createElement("th",null,"Price per user"),l.a.createElement("th",null,"Total",l.a.createElement("span",{className:"text-danger"},"*")))),l.a.createElement("tbody",null,l.a.createElement("tr",{className:"table-primary"},l.a.createElement("td",null,l.a.createElement("strong",null,g.name," Plan")),l.a.createElement("td",null,r.userCount),l.a.createElement("td",null,"\xa3",g.cost),l.a.createElement("td",null,l.a.createElement("strong",null,"\xa3",(g.cost*r.userCount).toFixed(2)))),l.a.createElement("tr",{className:"table-info"},l.a.createElement("td",null,l.a.createElement("strong",null,"Activation Charge")),l.a.createElement("td",null,r.userCount),l.a.createElement("td",null,"\xa3",25,"/user"),l.a.createElement("td",null,l.a.createElement("strong",null,"\xa3",25*r.userCount))))),l.a.createElement("div",{className:"discount mt-4"},l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),E.get("/api/v1/coupon/".concat(k),j).then(e=>{e.data?S(e.data):h()({title:"Error",text:"Invalid coupon code",icon:"error",button:"Ok"})}).catch(e=>{console.error("Error fetching coupon:",e),h()({title:"Error",text:"Failed to apply coupon",icon:"error",button:"Ok"})})}},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"mr-2"},l.a.createElement("input",{type:"text",className:"form-control",style:{marginBottom:"0px"},placeholder:"Enter coupon code",value:k,onChange:e=>_(e.target.value)})),l.a.createElement("button",{className:"btn btn-primary",type:"submit",style:{marginTop:"0px"}},"Apply Coupon"))),w&&l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("strong",null,"Applied Coupon:")," ",w.name," -"," ",w.description)),l.a.createElement("span",null,l.a.createElement("span",{className:"text-danger"},"*"),"The total payable amount will include a 20% VAT."))),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("h4",{className:"mb-4 border-bottom pb-2"},"Address Information"),l.a.createElement("div",{className:"card mb-4"},l.a.createElement("div",{className:"card-header bg-primary text-white"},l.a.createElement("h6",{className:"mb-0"},"Company Address")),l.a.createElement("div",{className:"card-body"},l.a.createElement("address",{className:"mb-0"},i.company_address&&l.a.createElement(n.Fragment,null,[i.company_address.line_1,i.company_address.line_2,i.company_address.city,i.company_address.district,i.company_address.county,i.company_address.post_code,i.company_address.country].filter(Boolean).join(", "))))),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header bg-primary text-white"},l.a.createElement("h6",{className:"mb-0"},"Billing Address")),l.a.createElement("div",{className:"card-body"},l.a.createElement("address",{className:"mb-0"},i.billing_address&&l.a.createElement(n.Fragment,null,[i.billing_address.line_1,i.billing_address.line_2,i.billing_address.city,i.billing_address.district,i.billing_address.county,i.billing_address.post_code,i.billing_address.country].filter(Boolean).join(", "))))))),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card bg-light border-0 shadow-sm"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row g-4 d-flex justify-content-center"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"p-3 bg-white rounded shadow-sm"},l.a.createElement("h6",{className:"text-muted mb-2"},"Monthly Cost"),l.a.createElement("p",{className:"h3 mb-0 text-primary"},"\xa3",N))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"p-3 bg-white rounded shadow-sm"},l.a.createElement("h6",{className:"text-muted mb-2"},"Activation Charge"),l.a.createElement("p",{className:"h3 mb-0 text-primary"},"\xa3",f))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("div",{className:"p-3 bg-primary text-white rounded shadow"},l.a.createElement("h6",{className:"mb-2"},"Total Amount"),l.a.createElement("p",{className:"h2 mb-0 font-weight-bold"},"\xa3",o))))))))),l.a.createElement("div",{className:"card-footer bg-light text-center py-4"},l.a.createElement("button",{className:"btn btn-primary btn-lg px-5 rounded-pill shadow-sm",onClick:e=>{e.preventDefault();const a={description:"test description",amount:100*o,monthlyCost:100*N,currency:"GBP",appFee:500,mandateScheme:"bacs"};E.post("/api/v1/mandate/billing",a,j).then(e=>{console.log(e.data),window.location.href=e.data.authorisationUrl,t(!1)}),u<4&&p(u+1)}},l.a.createElement("i",{className:"bi bi-credit-card me-2"}),"Proceed to Payment"))))};const fe={container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e6f7ff"},card:{maxWidth:"400px",borderRadius:"10px",border:"none",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",animation:"fadeIn 1s ease-in-out"},iconContainer:{width:"100px",height:"100px",backgroundColor:"#f8d7da",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",animation:"bounceIn 1s ease-in-out"},checkmark:{fontSize:"48px",color:"#155724"},title:{fontSize:"24px",color:"#721c24",marginBottom:"15px"},text:{fontSize:"16px",color:"#721c24",marginBottom:"30px"},button:{backgroundColor:"#007bff",borderColor:"#007bff"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},"@keyframes bounceIn":{"0%, 20%, 40%, 60%, 80%, 100%":{transform:"translateY(0)"},"50%":{transform:"translateY(-20px)"}}};var ye=function(){return l.a.createElement("div",{style:fe.container},l.a.createElement("div",{className:"card",style:fe.card},l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:fe.iconContainer},l.a.createElement("div",{className:"checkmark",style:fe.checkmark},"\ud83d\ude14")),l.a.createElement("p",{className:"card-title",style:fe.title},"Payment Unsuccessful"),l.a.createElement("p",{className:"card-text",style:fe.text},"Your transaction could not be processed. Please try again later or contact support."),l.a.createElement("a",{href:"/",className:"btn btn-primary",style:fe.button},"Go to Profile"))))};const Ne={container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e6f7ff"},card:{maxWidth:"400px",borderRadius:"10px",border:"none",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",animation:"fadeIn 1s ease-in-out"},iconContainer:{width:"100px",height:"100px",backgroundColor:"#d1ecf1",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto 20px",animation:"bounceIn 1s ease-in-out"},checkmark:{fontSize:"48px",color:"#155724"},title:{fontSize:"24px",color:"#004085",marginBottom:"15px"},text:{fontSize:"16px",color:"#5a6268",marginBottom:"30px"},button:{backgroundColor:"#007bff",borderColor:"#007bff"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},"@keyframes bounceIn":{"0%, 20%, 40%, 60%, 80%, 100%":{transform:"translateY(0)"},"50%":{transform:"translateY(-20px)"}}};var xe=function(){const e=Object(v.c)(e=>e);return Object(n.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify([]))},[e.cart]),l.a.createElement("div",{style:Ne.container},l.a.createElement("div",{className:"card",style:Ne.card},l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:Ne.iconContainer},l.a.createElement("div",{className:"checkmark",style:Ne.checkmark},"\ud83d\ude04")),l.a.createElement("h1",{className:"card-title",style:Ne.title},"Payment Successful!"),l.a.createElement("p",{className:"card-text",style:Ne.text},"Thank you for your payment. Your transaction has been completed successfully."),l.a.createElement("a",{href:"/product",className:"btn btn-primary",style:Ne.button},"Explore wide range of products"))))},ke=a(92);var _e=function(){const[e,t]=Object(n.useState)({password:""}),a=Object(ke.useHistory)(),r=a=>{const n=a.target.value;t({...e,[a.target.name]:n})};return l.a.createElement("div",{className:"container d-flex justify-content-center align-items-center vh-100"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 d-flex justify-content-center align-items-center"},l.a.createElement("img",{src:"https://via.placeholder.com/600x800",alt:"login",className:"img-fluid"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"card p-4"},l.a.createElement("h2",{className:"text-center mb-4"},"Forgot Password"),l.a.createElement("form",{onSubmit:t=>{t.preventDefault(),s.a.post("".concat("https://myaccount.pinevox.com","/api/v1/auth/forgot-password"),e).then(e=>{console.log(e),JSON.stringify(e),h()({title:"Success",text:"Password has been successfully updated",icon:"success",button:"OK"}).then(()=>{a.push("/clogin")})}).catch(e=>{console.log(e.response),h()({title:"Error",text:"Error occured",icon:"error",button:"OK"}).then(()=>{a.push("/forgotPassword")})})}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Enter new Password"),l.a.createElement("input",{type:"text",name:"password",onChange:r,className:"form-control mt-1",placeholder:"Please Enter new password",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Confirm new password"),l.a.createElement("input",{type:"text",name:"confirmPassword",onChange:r,className:"form-control mt-1",placeholder:"Please confirm new password",required:!0})),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block mt-4"},"Reset Password"),l.a.createElement("div",{className:"text-center mt-3"},l.a.createElement(me.Link,{to:"/clogin"},"Back to Login")))))))};var we=()=>{const e="CvmjTpTwWUedB8nNMCKxXQ43497",[t,a]=Object(n.useState)(""),[r,c]=Object(n.useState)([]),[o,m]=Object(n.useState)(""),[i,d]=Object(n.useState)([]),[u,p]=Object(n.useState)(""),[b,f]=Object(n.useState)([]),[y,N]=Object(n.useState)({company_address:{line_1:"",line_2:"",city:"",district:"",county:"",country:"",post_code:""},billing_address:{line_1:"",line_2:"",city:"",district:"",county:"",country:"",post_code:""},delivery_address:{line_1:"",line_2:"",city:"",district:"",county:"",country:"",post_code:""}}),[x,k]=(Object(v.c)(e=>e),Object(n.useState)(!1)),[_,w]=Object(n.useState)(!1),[S,O]=Object(n.useState)(3),j=Object(g.useHistory)(),C=(e,t)=>{const{name:a,value:n}=e.target;N(e=>({...e,[t]:{...e[t],[a]:n}}))},P=async(t,a)=>{const{address:n,url:l,id:r}=t,o="https://api.getAddress.io/get/".concat(r,"?api-key=").concat(e);s.a.get(o).then(e=>{const t=e.data;N(e=>({...e,[a]:{...e[a],line_1:t.line_1,line_2:t.line_2,city:t.town_or_city,district:t.county,county:t.county,country:t.country,post_code:t.postcode}})),"company_address"===a?c([]):"billing_address"===a?d([]):"delivery_address"===a&&f([])})};Object(n.useEffect)(()=>{let e=!0;return x&&y?E.post("api/v1/address",{address:y}).then(t=>{e&&(h()({title:"Success",text:"Services added successfully",icon:"success",button:"ok"}),j.push("/billing"))}).catch(t=>{e&&(console.error("API call error:",t),h()({title:"Error",text:t.message,icon:"error",button:"ok"}))}).finally(()=>{e&&k(!1)}):console.log("Errors detected, not making API call"),()=>{e=!1}},[x,y,j]);const I=(t,a)=>{const n="https://api.getAddress.io/autocomplete/".concat(t,"?api-key=").concat(e);s.a.get(n).then(e=>{"company_address"===a?c(e.data.suggestions):"billing_address"===a?d(e.data.suggestions):"delivery_address"===a&&f(e.data.suggestions)}).catch(e=>console.error("Error:",e))};return Object(n.useEffect)(()=>{let e;return t&&(e=setTimeout(()=>{I(t,"company_address")},1e3)),()=>clearTimeout(e)},[t]),Object(n.useEffect)(()=>{let e;return o&&(e=setTimeout(()=>{I(o,"billing_address")},1e3)),()=>clearTimeout(e)},[o]),Object(n.useEffect)(()=>{let e;return u&&(e=setTimeout(()=>{I(u,"delivery_address")},1e3)),()=>clearTimeout(e)},[u]),l.a.createElement("div",{className:"container py-5 d-flex flex-column justify-content-center"},l.a.createElement(L,{currentStep:S}),l.a.createElement("div",{className:"card mt-2"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",{className:"card-subtitle mb-1 text-center"},"Company Address"),l.a.createElement("div",{className:"form-group position-relative"},l.a.createElement("label",null,"Postcode"),l.a.createElement("input",{type:"text",className:"form-control",onChange:e=>a(e.target.value),required:!0}),r.length>0&&l.a.createElement("ul",{className:"list-group position-absolute w-100",style:{zIndex:"99"}},r.map((e,t)=>l.a.createElement("li",{key:t,className:"list-group-item",onClick:()=>P(e,"company_address")},e.address)))),["line_1","line_2","city","district","county","country","post_code"].map(e=>l.a.createElement("div",{className:"form-group",key:e},l.a.createElement("label",null,e.charAt(0).toUpperCase()+e.slice(1)),l.a.createElement("input",{type:"text",className:"form-control",name:e,value:y.company_address[e],onChange:e=>C(e,"company_address"),required:!0})))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",{className:"card-subtitle mb-1 text-center"},"Billing Address"),l.a.createElement("div",{className:"form-group position-relative"},l.a.createElement("label",null,"Postcode"),l.a.createElement("input",{type:"text",className:"form-control",onChange:e=>m(e.target.value),required:!0}),i.length>0&&l.a.createElement("ul",{className:"list-group position-absolute w-100",style:{zIndex:"99"}},i.map((e,t)=>l.a.createElement("li",{key:t,className:"list-group-item",onClick:()=>P(e,"billing_address")},e.address)))),["line_1","line_2","city","district","county","country","post_code"].map(e=>l.a.createElement("div",{className:"form-group",key:e},l.a.createElement("label",null,e.charAt(0).toUpperCase()+e.slice(1)),l.a.createElement("input",{type:"text",className:"form-control",name:e,value:y.billing_address[e],onChange:e=>C(e,"billing_address"),disabled:_,required:!0})))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",{className:"card-subtitle mb-1 text-center"},"Delivery Address"),l.a.createElement("div",{className:"form-group position-relative"},l.a.createElement("label",null,"Postcode"),l.a.createElement("input",{type:"text",className:"form-control",onChange:e=>p(e.target.value),required:!0}),b.length>0&&l.a.createElement("ul",{className:"list-group position-absolute w-100",style:{zIndex:"99"}},b.map((e,t)=>l.a.createElement("li",{key:t,className:"list-group-item",onClick:()=>P(e,"delivery_address")},e.address)))),["line_1","line_2","city","district","county","country","post_code"].map(e=>l.a.createElement("div",{className:"form-group",key:e},l.a.createElement("label",null,e.charAt(0).toUpperCase()+e.slice(1)),l.a.createElement("input",{type:"text",className:"form-control",name:e,value:y.delivery_address[e],onChange:e=>C(e,"delivery_address"),disabled:_,required:!0}))))),l.a.createElement("div",{className:"form-group form-check"},l.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"sameAsShipping",checked:_,onChange:()=>{w(!_),N(_?e=>({...e,billing_address:{line_1:"",line_2:"",city:"",district:"",county:"",country:"",post_code:""}}):e=>({...e,billing_address:{...e.company_address}}))}}),l.a.createElement("label",{className:"form-check-label",htmlFor:"sameAsShipping"},"Company address same as shipping address")),l.a.createElement("button",{type:"submit",className:"btn btn-danger btn-block",onClick:async e=>{e.preventDefault(),k(!0)}},"Proceed"))))};var Se=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(f.a,null,l.a.createElement("div",{className:"justify-content-around"},l.a.createElement(T,null)),l.a.createElement("div",{className:"content min_height"},l.a.createElement(g.Switch,null,l.a.createElement(g.Route,{component:B,path:"/register"}),l.a.createElement(g.Route,{component:$,path:"/clogin"}),l.a.createElement(g.Route,{component:ie,path:"/forgotPassword"}),l.a.createElement(g.Route,{component:_e,path:"/resetPassword"}),l.a.createElement(g.Route,{component:$,path:"/",exact:!0}),l.a.createElement(he,{component:S,path:"/product"}),l.a.createElement(he,{component:S,path:"/cat/:pcat/:subcat"}),l.a.createElement(he,{component:te,path:"/cprofile"}),l.a.createElement(he,{component:Q,path:"/myproducts"}),l.a.createElement(he,{component:X,path:"/myorders"}),l.a.createElement(he,{component:ve,path:"/billing"}),l.a.createElement(he,{component:le,path:"/orders"}),l.a.createElement(he,{component:oe,path:"/cart"}),l.a.createElement(he,{component:ge,path:"/address"}),l.a.createElement(he,{component:we,path:"/addressPage"}),l.a.createElement(he,{component:be,path:"/configuration"}),l.a.createElement(he,{component:xe,path:"/PaymentSuccess"}),l.a.createElement(he,{component:ye,path:"/PaymentFailure"}))),l.a.createElement(Ee,null)))};var Oe=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,181)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})},je=a(75);const Ce=[];var Pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AddItem":return[...e,t.payload];case"RemoveItem":return e.filter(e=>e.item!==t.payload.item);case"Clear":return[];case"InitializeCart":return t.payload;default:return e}};const Ie=()=>{const e=localStorage.getItem("access_token");if(!e)return null;try{const t=Object(o.a)(e);return{userEmail:t.userId,username:t.username,role:t.role}}catch(t){return console.error("Invalid token",t),null}},Ae=(()=>{const e=Ie();return{IsLoggedIn:null!==e,Username:e?e.username:"",UserEmail:e?e.userEmail:"",Role:e?e.role:""}})();var Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IsLoggedIn":const t=Ie();return{...e,IsLoggedIn:!0,Username:t.username,UserEmail:t.userEmail,Role:t.role};case"LogOut":return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),{...e,IsLoggedIn:!1,Username:"",Role:"",UserEmail:""};default:return e}};localStorage.getItem("cart")||localStorage.setItem("cart",JSON.stringify([]));const Le=JSON.parse(localStorage.getItem("cart")),Fe=Object(je.a)({loggedin:Te,cart:Pe}),Be=Object(je.b)(Fe);Be.dispatch({type:"InitializeCart",payload:Le});var De=Be;c.a.render(l.a.createElement(G.b,{clientId:"258500647366-jesetr6ivqqh8kje2nfgm05mdtjrbd91.apps.googleusercontent.com"},l.a.createElement(l.a.StrictMode,null,console.table(De),l.a.createElement(v.a,{store:De},l.a.createElement(Se,null)))),document.getElementById("root")),Oe(console.log)},78:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){e.exports=a.p+"static/media/Pinevox-Horizontal.9f6283f6.svg"},89:function(e,t,a){e.exports=a.p+"static/media/LoginPageImg.3954ec80.png"},91:function(e,t,a){e.exports=a.p+"static/media/PineVox-Horizontal-bw.f795a094.svg"}},[[102,1,2]]]);
//# sourceMappingURL=main.311a68cf.chunk.js.map